[build]
  publish = "."                   # 前端文件所在目录（根目录）
  functions = "netlify/functions"  # 函数文件所在目录
[functions]
  # 修正超时配置的语法
  [functions."*"]
    timeout = 900  # 单位为秒，设置为15分钟
[[edge_functions]]
  function = "chat"
  path = "/chat"
[[redirects]]
  from = "/api/*"                 # 匹配所有以/api/开头的请求
  to = "/.netlify/functions/api/:splat"  # 转发到api函数处理
  status = 200                    # 使用200状态码进行代理
  force = true                    # 强制重定向
[build.environment]
  MONGODB_URI = "mongodb+srv://3668417644:nuonuo001@cluster0.u1nuqn9.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0"  # 添加数据库环境变量
  MONGODB_DB = "Cluster0"