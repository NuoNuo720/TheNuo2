<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高一高二综合题库 - 智能练习模式</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 配置Tailwind自定义颜色 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#10b981',
                        accent: '#f59e0b',
                        danger: '#ef4444',
                        physics: '#3b82f6',
                        chemistry: '#ef4444',
                        biology: '#10b981',
                        math: '#8b5cf6',
                        english: '#ec4899',
                        chinese: '#6366f1',
                        history: '#9ca3af',
                        geography: '#0ea5e9',
                        politics: '#f43f5e'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .question-card {
                @apply bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 transition-all duration-300 hover:shadow-lg;
            }
            .option-item {
                @apply border border-gray-300 dark:border-gray-600 rounded-lg p-4 mb-3 cursor-pointer hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200;
            }
            .option-selected {
                @apply border-primary bg-blue-50 dark:bg-blue-900/20 pl-10 relative;
            }
            .option-selected::before {
                content: "✓";
                position: absolute;
                left: 3px;
                color: #3b82f6;
                font-weight: bold;
            }
            .option-correct {
                @apply border-secondary bg-green-50 dark:bg-green-900/20 pl-10 relative;
            }
            .option-correct::before {
                content: "✓";
                position: absolute;
                left: 3px;
                color: #10b981;
                font-weight: bold;
            }
            .option-incorrect {
                @apply border-danger bg-red-50 dark:bg-red-900/20 pl-10 relative;
            }
            .option-incorrect::before {
                content: "✗";
                position: absolute;
                left: 3px;
                color: #ef4444;
                font-weight: bold;
            }
            .subject-badge {
                @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
            }
            .stat-card {
                @apply bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 text-center transition-all duration-300;
            }
            .stat-card:hover {
                @apply shadow-md transform -translate-y-1;
            }
            .progress-ring {
                transform: rotate(-90deg);
                transform-origin: 50% 50%;
            }
            .confetti {
                position: fixed;
                width: 10px;
                height: 10px;
                opacity: 0;
                animation: confetti-fall 5s ease-in-out forwards;
                pointer-events: none;
            }
            @keyframes confetti-fall {
                0% { transform: translateY(-10px) rotate(0deg); opacity: 1; }
                100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
            }
            .badge-pulse {
                animation: badgePulse 2s infinite;
            }
            @keyframes badgePulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.1); }
                100% { transform: scale(1); }
            }
        }
        
        /* 动画效果 */
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-up {
            animation: slideUp 0.4s ease-out forwards;
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .scale-in {
            animation: scaleIn 0.3s ease-out forwards;
        }
        
        @keyframes scaleIn {
            from { transform: scale(0.95); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .pulse {
            animation: pulse 0.5s ease-in-out;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .bounce-in {
            animation: bounceIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .float {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        
        @keyframes shake {
            10%, 90% { transform: translateX(-1px); }
            20%, 80% { transform: translateX(2px); }
            30%, 50%, 70% { transform: translateX(-3px); }
            40%, 60% { transform: translateX(3px); }
        }
        
        .progress-bar {
            height: 4px;
            background: linear-gradient(90deg, #3b82f6 0%, #10b981 100%);
            width: 0%;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 100;
            transition: width 0.3s ease;
        }
        
        /* 夜间模式样式 */
        .dark {
            color-scheme: dark;
        }
        
        .dark body {
            background-color: #1a1a2e;
            color: #e2e8f0;
        }
        
        .dark .bg-gray-50 {
            background-color: #16213e;
        }
        
        .dark .bg-gray-100 {
            background-color: #0f3460;
        }
        
        .dark .text-gray-800 {
            color: #e2e8f0;
        }
        
        .dark .text-gray-600 {
            color: #cbd5e1;
        }
        
        .dark .text-gray-500 {
            color: #94a3b8;
        }
        
        .dark .border-gray-300 {
            border-color: #334155;
        }
        
        .dark .bg-white {
            background-color: #1e293b;
        }
        
        .dark .shadow-md {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
        }
        
        .dark .hover:bg-gray-100 {
            background-color: #334155;
        }
        
        /* 平滑滚动 */
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 min-h-screen font-sans text-gray-800 dark:text-gray-200 transition-colors duration-300">
    <!-- 进度条 -->
    <div class="progress-bar" id="progress-bar"></div>
    
    <!-- 顶部导航栏 -->
    <header class="bg-white/80 dark:bg-gray-900/80 backdrop-blur-md shadow-sm sticky top-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <h1 class="text-xl font-bold text-gray-800 dark:text-white flex items-center">
                    <i class="fa fa-book text-primary mr-2"></i>
                    高一高二综合题库
                </h1>
                
                <div class="flex items-center space-x-4">
                    <div class="stat-card hidden sm:block">
                        <div class="text-sm text-gray-500 dark:text-gray-400">已刷题数</div>
                        <div class="text-xl font-bold text-primary" id="total-count">0</div>
                    </div>
                    
                    <div class="relative">
                        <button id="plan-btn" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                            <i class="fa fa-calendar text-primary"></i>
                            <span id="plan-badge" class="absolute -top-1 -right-1 w-4 h-4 bg-accent text-white text-xs rounded-full flex items-center justify-center hidden badge-pulse"></span>
                        </button>
                    </div>
                    
                    <div class="relative">
                        <button id="wrong-btn" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                            <i class="fa fa-exclamation-circle text-danger"></i>
                            <span id="wrong-badge" class="absolute -top-1 -right-1 w-4 h-4 bg-danger text-white text-xs rounded-full flex items-center justify-center hidden"></span>
                        </button>
                    </div>
                    
                    <div class="relative">
                        <button id="stats-btn" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                            <i class="fa fa-bar-chart text-primary"></i>
                        </button>
                    </div>
                    
                    <div class="relative">
                        <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                            <i class="fa fa-moon-o dark:hidden text-gray-600"></i>
                            <i class="fa fa-sun-o hidden dark:block text-yellow-400"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <button id="back-button" class="absolute left-4 top-4 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-800 dark:text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center z-10 shadow-sm">
        <i class="fa fa-arrow-left mr-2"></i> 返回学业水平测试中心
    </button>
    
    <!-- 统计弹窗 -->
    <div id="stats-modal" class="fixed inset-0 bg-black/50 z-50 hidden items-center justify-center backdrop-blur-sm">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 max-w-md w-full mx-4 scale-in">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">学习统计</h3>
                <button id="close-stats" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="stat-card">
                    <div class="text-sm text-gray-500 dark:text-gray-400">总刷题数</div>
                    <div class="text-2xl font-bold text-primary" id="modal-total">0</div>
                </div>
                <div class="stat-card">
                    <div class="text-sm text-gray-500 dark:text-gray-400">正确率</div>
                    <div class="text-2xl font-bold text-secondary" id="modal-accuracy">0%</div>
                </div>
                <div class="stat-card">
                    <div class="text-sm text-gray-500 dark:text-gray-400">错误题数</div>
                    <div class="text-xl font-bold text-danger" id="wrong-count">0</div>
                </div>
                <div class="stat-card">
                    <div class="text-sm text-gray-500 dark:text-gray-400">连续正确</div>
                    <div class="text-2xl font-bold text-accent" id="modal-streak">0</div>
                </div>
                <div class="stat-card">
                    <div class="text-sm text-gray-500 dark:text-gray-400">最高连续正确</div>
                    <div class="text-2xl font-bold text-accent" id="modal-best-streak">0</div>
                </div>
            </div>
            
            <div class="mb-6">
                <h4 class="font-medium mb-2">各科目正确率</h4>
                <div id="subject-stats" class="space-y-2">
                    <!-- 科目统计将动态生成 -->
                </div>
            </div>
            
            <button id="reset-stats" class="w-full py-2 px-4 border border-danger text-danger rounded-lg hover:bg-danger/5 dark:hover:bg-danger/10 transition-colors">
                重置统计数据
            </button>
        </div>
    </div>
    
    <!-- 错题本弹窗 -->
    <div id="wrong-modal" class="fixed inset-0 bg-black/50 z-50 hidden items-center justify-center backdrop-blur-sm">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden flex flex-col">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">错题本</h3>
                <button id="close-wrong" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <div class="flex-grow overflow-y-auto pr-2" id="wrong-questions-container">
                <!-- 错题将动态生成 -->
                <div class="text-center text-gray-500 dark:text-gray-400 py-8" id="no-wrong-message">
                    <i class="fa fa-check-circle text-secondary text-4xl mb-2"></i>
                    <p>恭喜！你目前没有错题</p>
                </div>
            </div>
            
            <button id="clear-wrong" class="mt-4 w-full py-2 px-4 border border-danger text-danger rounded-lg hover:bg-danger/5 dark:hover:bg-danger/10 transition-colors">
                清空错题本
            </button>
        </div>
    </div>
    
    <!-- 学习计划弹窗 -->
    <div id="plan-modal" class="fixed inset-0 bg-black/50 z-50 hidden items-center justify-center backdrop-blur-sm">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 max-w-md w-full mx-4 scale-in">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">学习计划</h3>
                <button id="close-plan" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">每日刷题目标</label>
                <div class="flex items-center">
                    <button id="decrease-goal" class="w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-l-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <i class="fa fa-minus"></i>
                    </button>
                    <input type="number" id="daily-goal" min="1" max="100" class="w-full h-10 border-y border-gray-300 dark:border-gray-700 bg-transparent text-center focus:outline-none" value="10">
                    <button id="increase-goal" class="w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-r-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                        <i class="fa fa-plus"></i>
                    </button>
                </div>
            </div>
            
            <div class="mb-6">
                <h4 class="font-medium mb-2">今日进度</h4>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 mb-1">
                    <div id="daily-progress-bar" class="bg-primary h-4 rounded-full" style="width: 0%"></div>
                </div>
                <div class="flex justify-between text-sm text-gray-500 dark:text-gray-400">
                    <span id="daily-current">0</span>
                    <span id="daily-target">/ 10</span>
                </div>
            </div>
            
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="stat-card">
                    <div class="text-sm text-gray-500 dark:text-gray-400">连续打卡</div>
                    <div class="text-2xl font-bold text-accent" id="streak-days">0天</div>
                </div>
                <div class="stat-card">
                    <div class="text-sm text-gray-500 dark:text-gray-400">本月完成</div>
                    <div class="text-2xl font-bold text-secondary" id="monthly-completion">0%</div>
                </div>
            </div>
            
            <button id="save-plan" class="w-full py-3 bg-primary text-white rounded-lg shadow hover:bg-primary/90 transition-all transform hover:scale-[1.02] active:scale-[0.98]">
                保存计划
            </button>
        </div>
    </div>

    <!-- 主内容区 -->
    <main class="container mx-auto px-4 py-8 max-w-3xl">
        <!-- 成就提示 (默认隐藏) -->
        <div id="achievement" class="hidden bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 mb-6 flex items-center bounce-in">
            <div class="w-12 h-12 rounded-full bg-accent/20 flex items-center justify-center mr-4">
                <i class="fa fa-trophy text-2xl text-accent"></i>
            </div>
            <div>
                <h3 class="font-bold text-gray-800 dark:text-white" id="achievement-title">新成就解锁!</h3>
                <p class="text-gray-600 dark:text-gray-300 text-sm" id="achievement-desc">你已完成10道题，继续加油!</p>
            </div>
        </div>
        
        <!-- 每日目标提示 (默认隐藏) -->
        <div id="goal-reminder" class="hidden bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 mb-6 flex items-center slide-up">
            <div class="w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center mr-3">
                <i class="fa fa-bullseye text-xl text-primary"></i>
            </div>
            <div class="flex-grow">
                <h3 class="font-bold text-gray-800 dark:text-white text-sm">今日学习目标</h3>
                <p class="text-gray-600 dark:text-gray-300 text-xs" id="goal-reminder-text">已完成 3/10 题，继续努力！</p>
            </div>
            <button id="close-reminder" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                <i class="fa fa-times"></i>
            </button>
        </div>
        
        <!-- 统计信息 -->
        <div class="grid grid-cols-3 gap-4 mb-6">
            <div class="stat-card">
                <div class="text-sm text-gray-500 dark:text-gray-400">正确率</div>
                <div class="text-xl font-bold text-secondary" id="accuracy-rate">0%</div>
            </div>
            <div class="stat-card">
                <div class="text-sm text-gray-500 dark:text-gray-400">正确题数</div>
                <div class="text-xl font-bold text-secondary" id="correct-count">0</div>
            </div>
            <div class="stat-card">
                <div class="text-sm text-gray-500 dark:text-gray-400">连续正确</div>
                <div class="text-xl font-bold text-accent" id="current-streak">0</div>
            </div>
        </div>
        
        <!-- 科目筛选器 -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 mb-6 overflow-x-auto">
            <div class="flex space-x-2 min-w-max">
                <button class="subject-filter active px-3 py-1.5 rounded-full text-sm bg-primary text-white" data-subject="all">
                    全部
                </button>
                <button class="subject-filter px-3 py-1.5 rounded-full text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" data-subject="physics">
                    物理
                </button>
                <button class="subject-filter px-3 py-1.5 rounded-full text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" data-subject="chemistry">
                    化学
                </button>
                <button class="subject-filter px-3 py-1.5 rounded-full text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" data-subject="biology">
                    生物
                </button>
                <button class="subject-filter px-3 py-1.5 rounded-full text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" data-subject="math">
                    数学
                </button>
                <button class="subject-filter px-3 py-1.5 rounded-full text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" data-subject="english">
                    英语
                </button>
                <button class="subject-filter px-3 py-1.5 rounded-full text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" data-subject="chinese">
                    语文
                </button>
                <button class="subject-filter px-3 py-1.5 rounded-full text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" data-subject="history">
                    历史
                </button>
                <button class="subject-filter px-3 py-1.5 rounded-full text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" data-subject="geography">
                    地理
                </button>
                <button class="subject-filter px-3 py-1.5 rounded-full text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" data-subject="politics">
                    政治
                </button>
            </div>
        </div>
        
        <!-- 题目容器 -->
        <div id="question-container" class="mb-8 fade-in">
            <div class="question-card relative overflow-hidden">
                <!-- 装饰元素 -->
                <div class="absolute -right-10 -top-10 w-20 h-20 rounded-full opacity-10" id="question-decoration"></div>
                
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-5 gap-2 relative z-10">
                    <div class="flex items-center">
                        <span class="subject-badge bg-primary/10 text-primary mr-2" id="question-subject">科目</span>
                        <h2 class="font-medium text-lg" id="question-text">加载题目中...</h2>
                    </div>
                    <span class="text-sm text-gray-500 dark:text-gray-400" id="question-id">题ID: --</span>
                </div>
                
                <div class="space-y-3 ml-2 relative z-10" id="options-container">
                    <!-- 选项将通过JS动态生成 -->
                </div>
            </div>
        </div>
        
        <!-- 答案解析区 (默认隐藏) -->
        <div id="explanation-container" class="hidden bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-8 slide-up">
            <h3 class="text-lg font-bold mb-3 flex items-center">
                <i class="fa fa-info-circle text-primary mr-2"></i>答案解析
            </h3>
            <div class="mb-4">
                <span class="font-medium">正确答案：</span>
                <span class="text-secondary font-bold" id="correct-answer"></span>
            </div>
            <div class="text-gray-700 dark:text-gray-300" id="explanation-text"></div>
            
            <div class="mt-4 pt-4 border-t border-gray-200 dark:border-gray-700">
                <button id="add-to-wrong" class="text-danger hover:text-danger/80 flex items-center text-sm">
                    <i class="fa fa-exclamation-circle mr-1"></i> 加入错题本
                </button>
            </div>
        </div>
        
        <!-- 按钮区 -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <button id="submit-btn" class="bg-primary text-white px-8 py-3 rounded-lg shadow hover:bg-primary/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex-1 sm:flex-none transform hover:scale-105 active:scale-95 transition-transform">
                提交答案
            </button>
            <button id="next-btn" class="hidden bg-secondary text-white px-8 py-3 rounded-lg shadow hover:bg-secondary/90 transition-all flex-1 sm:flex-none transform hover:scale-105 active:scale-95 transition-transform">
                下一题
            </button>
        </div>
    </main>

    <footer class="bg-white/80 dark:bg-gray-900/80 backdrop-blur-md py-4 mt-12">
        <div class="container mx-auto px-4 text-center text-gray-500 dark:text-gray-400 text-sm">
            <p>高一高二综合题库 &copy; 2025 | 学习数据自动保存</p>
        </div>
    </footer>

    <script>
        document.getElementById('back-button').addEventListener('click', function() {
            window.history.back();
        });
        
        // 夜间模式切换
        const themeToggle = document.getElementById('theme-toggle');
        
        // 检查用户偏好
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
        
        themeToggle.addEventListener('click', function() {
            document.documentElement.classList.toggle('dark');
            
            // 保存用户偏好
            if (document.documentElement.classList.contains('dark')) {
                localStorage.theme = 'dark';
            } else {
                localStorage.theme = 'light';
            }
        });
        
        document.addEventListener('DOMContentLoaded', function() {
            // 从localStorage加载统计数据
            let stats = JSON.parse(localStorage.getItem('questionStats')) || {
                total: 0,
                correct: 0,
                wrong: 0,
                currentStreak: 0,
                bestStreak: 0,
                subjects: {
                    physics: { total: 0, correct: 0 },
                    chemistry: { total: 0, correct: 0 },
                    biology: { total: 0, correct: 0 },
                    math: { total: 0, correct: 0 },
                    english: { total: 0, correct: 0 },
                    chinese: { total: 0, correct: 0 },
                    history: { total: 0, correct: 0 },
                    geography: { total: 0, correct: 0 },
                    politics: { total: 0, correct: 0 }
                },
                answeredQuestions: [],
                wrongQuestions: []
            };
            
            // 从localStorage加载学习计划数据
            const today = new Date().toISOString().split('T')[0];
            let planData = JSON.parse(localStorage.getItem('studyPlan')) || {
                dailyGoal: 10,
                progress: {},
                streakDays: 0,
                lastStudyDate: null
            };
            
            // 初始化今日进度
            if (!planData.progress[today]) {
                planData.progress[today] = 0;
            }
            
            // 检查连续打卡
            if (planData.lastStudyDate) {
                const lastDate = new Date(planData.lastStudyDate);
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                
                // 如果最后学习日期不是今天，且不是昨天，则重置连续打卡
                if (planData.lastStudyDate !== today && 
                    !(lastDate.toDateString() === yesterday.toDateString())) {
                    planData.streakDays = 0;
                }
            }
            
            // 保存学习计划数据
            function savePlanData() {
                localStorage.setItem('studyPlan', JSON.stringify(planData));
            }
            
            // 题目数据库 - 100道题
            const questionBank = [
                // 物理（1-15）
                {
                    id: 1,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "下列关于力和运动的说法中，正确的是（ ）",
                    options: {
                        A: "物体运动状态改变时，一定受到了力的作用",
                        B: "物体受到力的作用，运动状态一定改变",
                        C: "静止的物体没有惯性",
                        D: "用力推桌子，桌子没动，是因为推力小于摩擦力"
                    },
                    answer: "A",
                    explanation: "力是改变物体运动状态的原因，物体运动状态改变时一定受到力的作用，故A正确；物体受到平衡力作用时，运动状态不变，故B错误；一切物体都有惯性，与运动状态无关，故C错误；桌子没动处于平衡状态，推力等于摩擦力，故D错误。"
                },
                {
                    id: 2,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "关于电路的说法错误的是（ ）",
                    options: {
                        A: "电源是提供电能的装置",
                        B: "电路中必须有电源并且是通路时，电路中才有电流",
                        C: "电流沿着'正极→用电器→负极'的方向流动",
                        D: "用电器是将其他形式的能转化为电能的装置"
                    },
                    answer: "D",
                    explanation: "用电器是将电能转化为其他形式能的装置，如电灯将电能转化为光能和热能，故D错误。其他选项说法均正确。"
                },
                {
                    id: 3,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "关于加速度，下列说法正确的是（ ）",
                    options: {
                        A: "加速度为零的物体，速度一定为零",
                        B: "加速度越大的物体，速度变化一定越快",
                        C: "加速度越大的物体，速度一定越大",
                        D: "加速度方向保持不变，速度方向也一定保持不变"
                    },
                    answer: "B",
                    explanation: "加速度是描述速度变化快慢的物理量，加速度越大，速度变化越快，故B正确；加速度为零的物体速度可以不为零（如匀速直线运动），故A错误；加速度大速度不一定大（如刚起步的跑车），故C错误；加速度方向不变，速度方向可能改变（如竖直上抛运动），故D错误。"
                },
                {
                    id: 4,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "关于平抛运动，下列说法正确的是（ ）",
                    options: {
                        A: "平抛运动是匀变速运动",
                        B: "平抛运动是变加速运动",
                        C: "平抛运动的速度方向不变",
                        D: "平抛运动的加速度方向不断变化"
                    },
                    answer: "A",
                    explanation: "平抛运动只受重力作用，加速度恒定为重力加速度g，所以是匀变速曲线运动，故A正确，B、D错误；平抛运动的速度方向沿轨迹切线方向，不断变化，故C错误。"
                },
                {
                    id: 5,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "下列关于功和能的说法中，正确的是（ ）",
                    options: {
                        A: "物体做功越多，具有的能量越大",
                        B: "物体具有的能量越多，做的功越多",
                        C: "功是能量转化的量度",
                        D: "功和能具有相同的单位，所以功就是能"
                    },
                    answer: "C",
                    explanation: "功是能量转化的量度，物体做功的过程就是能量转化的过程，故C正确；一个物体具有的能量多，并不一定做功多，故A、B错误；功和能虽然单位相同，但本质不同，功是过程量，能是状态量，故D错误。"
                },
                {
                    id: 6,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "关于磁感应强度，下列说法正确的是（ ）",
                    options: {
                        A: "磁感应强度的方向就是通电导线在磁场中受力的方向",
                        B: "磁感应强度的大小与通电导线在磁场中受力的大小成正比",
                        C: "磁感应强度是描述磁场强弱和方向的物理量",
                        D: "磁感应强度的单位是韦伯"
                    },
                    answer: "C",
                    explanation: "磁感应强度是描述磁场强弱和方向的物理量，故C正确；磁感应强度的方向与通电导线在磁场中受力的方向垂直，故A错误；磁感应强度由磁场本身决定，与通电导线受力无关，故B错误；磁感应强度的单位是特斯拉，韦伯是磁通量的单位，故D错误。"
                },
                {
                    id: 7,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "关于机械波，下列说法正确的是（ ）",
                    options: {
                        A: "波传播时，介质中的质点也随波一起迁移",
                        B: "机械波的传播需要介质",
                        C: "机械波可以在真空中传播",
                        D: "波源停止振动，波立即停止传播"
                    },
                    answer: "B",
                    explanation: "机械波的传播需要介质，故B正确，C错误；波传播时，介质中的质点只在平衡位置附近振动，不会随波迁移，故A错误；波源停止振动后，已经传播出去的波会继续传播，故D错误。"
                },
                {
                    id: 8,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "下列现象中，利用物体惯性的是（ ）",
                    options: {
                        A: "锤头松了，把锤柄的一端在硬地上撞击几下，锤头就紧套在锤柄上",
                        B: "运动员跑到终点后不能马上停下来",
                        C: "汽车行驶时，司机和乘客都要系好安全带",
                        D: "子弹离开枪膛后仍能继续飞行"
                    },
                    answer: "A",
                    explanation: "选项A是利用惯性使锤头套紧，符合题意；选项B、C、D都是惯性带来的不便或危害，不是利用惯性，故A正确。"
                },
                {
                    id: 9,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "关于物体的重心，下列说法正确的是（ ）",
                    options: {
                        A: "物体的重心一定在物体上",
                        B: "形状规则的物体的重心一定在其几何中心",
                        C: "物体的重心位置与物体的质量分布和形状有关",
                        D: "物体的重心越高，物体越稳定"
                    },
                    answer: "C",
                    explanation: "物体的重心位置与物体的质量分布和形状有关，故C正确；物体的重心不一定在物体上（如圆环的重心在圆心），故A错误；形状规则且质量分布均匀的物体的重心才在其几何中心，故B错误；物体的重心越低，物体越稳定，故D错误。"
                },
                {
                    id: 10,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "关于电场强度，下列说法正确的是（ ）",
                    options: {
                        A: "电场强度的方向总是跟电场力的方向一致",
                        B: "电场强度的大小与放入电场中的电荷所受的电场力成正比",
                        C: "电场强度是描述电场强弱和方向的物理量",
                        D: "电场中某点的电场强度与放入该点的电荷有关"
                    },
                    answer: "C",
                    explanation: "电场强度是描述电场强弱和方向的物理量，故C正确；电场强度的方向与正电荷所受电场力的方向一致，与负电荷所受电场力的方向相反，故A错误；电场强度由电场本身决定，与放入的试探电荷无关，故B、D错误。"
                },
                {
                    id: 11,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "关于楞次定律，下列说法正确的是（ ）",
                    options: {
                        A: "感应电流的磁场总是阻碍引起感应电流的磁通量",
                        B: "感应电流的磁场总是与引起感应电流的磁场方向相反",
                        C: "感应电流的磁场总是与引起感应电流的磁场方向相同",
                        D: "感应电流的磁场总是阻碍引起感应电流的磁通量的变化"
                    },
                    answer: "D",
                    explanation: "楞次定律的内容是：感应电流的磁场总是要阻碍引起感应电流的磁通量的变化，故D正确，A错误；感应电流的磁场与引起感应电流的磁场方向可能相同，也可能相反，取决于磁通量是增加还是减少，故B、C错误。"
                },
                {
                    id: 12,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "关于光的折射，下列说法正确的是（ ）",
                    options: {
                        A: "光从一种介质进入另一种介质时，传播方向一定改变",
                        B: "光从空气斜射入水中时，折射角大于入射角",
                        C: "光从水中斜射入空气中时，折射角大于入射角",
                        D: "折射角是折射光线与介质表面的夹角"
                    },
                    answer: "C",
                    explanation: "光从水中斜射入空气中时，折射角大于入射角，故C正确；光垂直入射时，传播方向不变，故A错误；光从空气斜射入水中时，折射角小于入射角，故B错误；折射角是折射光线与法线的夹角，故D错误。"
                },
                {
                    id: 13,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "下列关于动量的说法中，正确的是（ ）",
                    options: {
                        A: "物体的动量越大，其惯性也越大",
                        B: "物体的速度越大，其动量也越大",
                        C: "动量是矢量，其方向与速度方向相同",
                        D: "物体的动量变化量为零，则物体的动能也一定为零"
                    },
                    answer: "C",
                    explanation: "动量是矢量，其方向与速度方向相同，故C正确；物体的动量p=mv，动量大小由质量和速度共同决定，故A、B错误；物体的动量变化量为零，说明物体速度不变，但动能不一定为零（如匀速直线运动），故D错误。"
                },
                {
                    id: 14,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "关于热力学第一定律，下列说法正确的是（ ）",
                    options: {
                        A: "物体吸收热量，内能一定增加",
                        B: "物体对外做功，内能一定减少",
                        C: "物体吸收热量，同时对外做功，内能一定不变",
                        D: "物体的内能变化等于它吸收的热量与外界对它所做的功之和"
                    },
                    answer: "D",
                    explanation: "热力学第一定律的表达式为ΔU=Q+W，即物体的内能变化等于它吸收的热量与外界对它所做的功之和，故D正确；物体吸收热量，如果同时对外做功，内能可能增加、减少或不变，故A、C错误；物体对外做功，如果同时吸收热量，内能可能减少、增加或不变，故B错误。"
                },
                {
                    id: 15,
                    subject: "物理",
                    subjectClass: "physics",
                    question: "关于电荷守恒定律，下列说法正确的是（ ）",
                    options: {
                        A: "电荷可以被创造，但不能被消灭",
                        B: "电荷可以被消灭，但不能被创造",
                        C: "电荷既不能被创造，也不能被消灭，只能从一个物体转移到另一个物体，或者从物体的一部分转移到另一部分",
                        D: "电荷守恒定律只适用于摩擦起电现象"
                    },
                    answer: "C",
                    explanation: "电荷守恒定律的内容是：电荷既不能被创造，也不能被消灭，只能从一个物体转移到另一个物体，或者从物体的一部分转移到另一部分，故C正确，A、B错误；电荷守恒定律适用于一切电现象，故D错误。"
                },
                
                // 化学（16-30）
                {
                    id: 16,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列物质属于纯净物的是（ ）",
                    options: {
                        A: "空气",
                        B: "氧气",
                        C: "矿泉水",
                        D: "大理石"
                    },
                    answer: "B",
                    explanation: "纯净物是由一种物质组成的。氧气是由氧分子构成的单一物质，属于纯净物；空气、矿泉水、大理石都是由多种物质组成的混合物。"
                },
                {
                    id: 17,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列化学方程式书写正确的是（ ）",
                    options: {
                        A: "2H₂O = 2H₂↑ + O₂↑",
                        B: "2Fe + 6HCl = 2FeCl₃ + 3H₂↑",
                        C: "4P + 5O₂ 点燃 2P₂O₅",
                        D: "Cu + H₂SO₄ = CuSO₄ + H₂↑"
                    },
                    answer: "C",
                    explanation: "A选项缺少反应条件（通电）；B选项铁与盐酸反应生成氯化亚铁（FeCl₂）而非氯化铁；D选项铜的活动性排在氢之后，不能与稀硫酸反应生成氢气；C选项化学方程式书写正确。"
                },
                {
                    id: 18,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列关于物质的量的说法中，正确的是（ ）",
                    options: {
                        A: "物质的量是一个基本物理量，表示含有一定数目粒子的集合体",
                        B: "物质的量的单位是克",
                        C: "1mol任何物质都含有6.02×10²³个原子",
                        D: "物质的量就是物质的质量"
                    },
                    answer: "A",
                    explanation: "物质的量是一个基本物理量，表示含有一定数目粒子的集合体，故A正确；物质的量的单位是摩尔，故B错误；1mol任何物质都含有6.02×10²³个粒子，但不一定是原子（如1mol O₂含有6.02×10²³个分子），故C错误；物质的量和物质的质量是两个不同的物理量，故D错误。"
                },
                {
                    id: 19,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "关于元素周期表，下列说法正确的是（ ）",
                    options: {
                        A: "元素周期表有7个周期，18个族",
                        B: "同一周期的元素，电子层数相同",
                        C: "同一主族的元素，最外层电子数不同",
                        D: "元素周期表中，左下方的元素非金属性最强"
                    },
                    answer: "B",
                    explanation: "同一周期的元素，电子层数相同，故B正确；元素周期表有7个周期，16个族（8、9、10三个纵行共同组成一个族），故A错误；同一主族的元素，最外层电子数相同，故C错误；元素周期表中，右上方的元素非金属性最强，故D错误。"
                },
                {
                    id: 20,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列关于化学反应速率的说法中，正确的是（ ）",
                    options: {
                        A: "化学反应速率是指一定时间内任何一种反应物浓度的减少或任何一种生成物浓度的增加",
                        B: "化学反应速率为0.8mol/(L·s)是指1s时某物质的浓度为0.8mol/L",
                        C: "根据化学反应速率的大小可以知道化学反应进行的快慢",
                        D: "对于任何化学反应来说，反应速率越大，反应现象就越明显"
                    },
                    answer: "C",
                    explanation: "化学反应速率是用来衡量化学反应进行快慢的物理量，故C正确；固体和纯液体的浓度视为常数，不能用来表示反应速率，故A错误；化学反应速率为0.8mol/(L·s)是指1s内某物质的浓度变化为0.8mol/L，故B错误；反应速率与反应现象之间没有必然联系，如中和反应速率很快，但没有明显现象，故D错误。"
                },
                {
                    id: 21,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列关于化学键的说法中，正确的是（ ）",
                    options: {
                        A: "化学键是指分子中原子之间的相互作用",
                        B: "离子键是指阴、阳离子之间的相互吸引力",
                        C: "共价键是指原子之间通过共用电子对所形成的相互作用",
                        D: "所有物质中都存在化学键"
                    },
                    answer: "C",
                    explanation: "共价键是指原子之间通过共用电子对所形成的相互作用，故C正确；化学键是指相邻原子之间强烈的相互作用，故A错误；离子键是指阴、阳离子之间的相互作用（包括吸引力和排斥力），故B错误；稀有气体为单原子分子，不存在化学键，故D错误。"
                },
                {
                    id: 22,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列关于有机物的说法中，正确的是（ ）",
                    options: {
                        A: "有机物都是从有机体中分离出来的物质",
                        B: "有机物都是含碳元素的化合物",
                        C: "有机物都不溶于水，易溶于有机溶剂",
                        D: "有机物都不导电"
                    },
                    answer: "B",
                    explanation: "有机物是指含碳元素的化合物（除碳的氧化物、碳酸、碳酸盐等外），故B正确；有机物可以通过人工合成得到，不一定从有机体中分离出来，故A错误；有些有机物能溶于水（如乙醇、乙酸），故C错误；有些有机物能导电（如聚乙炔），故D错误。"
                },
                {
                    id: 23,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列关于氧化还原反应的说法中，正确的是（ ）",
                    options: {
                        A: "氧化还原反应的本质是元素化合价的升降",
                        B: "在氧化还原反应中，失去电子的物质被还原",
                        C: "在氧化还原反应中，氧化剂发生氧化反应",
                        D: "在氧化还原反应中，氧化剂得到电子"
                    },
                    answer: "D",
                    explanation: "在氧化还原反应中，氧化剂得到电子，发生还原反应；还原剂失去电子，发生氧化反应，故D正确，B、C错误；氧化还原反应的本质是电子的转移，特征是元素化合价的升降，故A错误。"
                },
                {
                    id: 24,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列关于原电池的说法中，正确的是（ ）",
                    options: {
                        A: "原电池是将电能转化为化学能的装置",
                        B: "在原电池中，负极发生还原反应",
                        C: "在原电池中，电子从负极流出，经导线流向正极",
                        D: "原电池的两极必须是两种不同的金属"
                    },
                    answer: "C",
                    explanation: "在原电池中，电子从负极流出，经导线流向正极，故C正确；原电池是将化学能转化为电能的装置，故A错误；在原电池中，负极发生氧化反应，故B错误；原电池的两极可以是一种金属和一种能导电的非金属（如石墨），故D错误。"
                },
                {
                    id: 25,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列关于金属的说法中，正确的是（ ）",
                    options: {
                        A: "金属在常温下都是固体",
                        B: "金属都能与酸反应生成氢气",
                        C: "金属都具有良好的导电性和导热性",
                        D: "金属的硬度都很大"
                    },
                    answer: "C",
                    explanation: "所有金属都具有良好的导电性和导热性，这是金属的通性之一，故C正确；汞在常温下是液体，故A错误；铜、银等不活泼金属不能与稀酸反应生成氢气，故B错误；有些金属的硬度很小（如钠），故D错误。"
                },
                {
                    id: 26,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列关于溶液的说法中，正确的是（ ）",
                    options: {
                        A: "溶液一定是无色透明的",
                        B: "溶液一定是均一、稳定的混合物",
                        C: "溶液中只能有一种溶质",
                        D: "凡是均一、稳定的液体都是溶液"
                    },
                    answer: "B",
                    explanation: "溶液是均一、稳定的混合物，故B正确；溶液不一定是无色的（如硫酸铜溶液呈蓝色），故A错误；溶液中可以有多种溶质，故C错误；均一、稳定的液体不一定是溶液（如水是纯净物，不是溶液），故D错误。"
                },
                {
                    id: 27,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列关于化学反应限度的说法中，正确的是（ ）",
                    options: {
                        A: "当一个可逆反应达到平衡状态时，正反应速率等于逆反应速率",
                        B: "当一个可逆反应达到平衡状态时，反应物已经完全转化为生成物",
                        C: "化学反应的限度不可以改变",
                        D: "化学反应的限度与反应条件无关"
                    },
                    answer: "A",
                    explanation: "当一个可逆反应达到平衡状态时，正反应速率等于逆反应速率，各物质的浓度保持不变，故A正确；可逆反应不能进行到底，反应物不能完全转化为生成物，故B错误；化学反应的限度可以通过改变反应条件（如温度、压强等）来改变，故C、D错误。"
                },
                {
                    id: 28,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列关于氯水的说法中，正确的是（ ）",
                    options: {
                        A: "氯水中只含有Cl₂和H₂O两种分子",
                        B: "氯水具有漂白性是因为含有Cl₂",
                        C: "氯水呈浅黄绿色，说明含有Cl₂",
                        D: "氯水久置后，漂白性增强"
                    },
                    answer: "C",
                    explanation: "氯水中含有Cl₂、H₂O、HClO三种分子，故A错误；氯水具有漂白性是因为含有HClO，故B错误；氯水呈浅黄绿色是因为含有Cl₂分子，故C正确；氯水久置后，HClO分解为HCl和O₂，漂白性减弱，故D错误。"
                },
                {
                    id: 29,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列关于浓硫酸的说法中，正确的是（ ）",
                    options: {
                        A: "浓硫酸具有吸水性，可用来干燥氨气",
                        B: "浓硫酸具有脱水性，能使纸张、木材等碳化",
                        C: "浓硫酸是一种弱酸",
                        D: "常温下，浓硫酸不与铁、铝反应"
                    },
                    answer: "B",
                    explanation: "浓硫酸具有脱水性，能将有机物中的氢、氧元素按水的组成比脱去，使纸张、木材等碳化，故B正确；浓硫酸具有酸性，不能用来干燥氨气（会发生反应），故A错误；浓硫酸是一种强酸，故C错误；常温下，浓硫酸与铁、铝发生钝化反应（不是不反应），故D错误。"
                },
                {
                    id: 30,
                    subject: "化学",
                    subjectClass: "chemistry",
                    question: "下列关于化学反应与能量的说法中，正确的是（ ）",
                    options: {
                        A: "化学反应中一定伴随着能量的变化",
                        B: "放热反应不需要加热就能发生",
                        C: "吸热反应在常温下一定不能发生",
                        D: "化学反应中的能量变化都表现为热量的变化"
                    },
                    answer: "A",
                    explanation: "化学反应的本质是旧化学键的断裂和新化学键的形成，断键吸热，成键放热，所以化学反应中一定伴随着能量的变化，故A正确；放热反应可能需要加热（如铝热反应），吸热反应在常温下也可能发生（如氯化铵与氢氧化钡的反应），故B、C错误；化学反应中的能量变化可以表现为热量、光能、电能等多种形式，故D错误。"
                },
                
                // 生物（31-45）
                {
                    id: 31,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "细胞的基本结构不包括（ ）",
                    options: {
                        A: "细胞核",
                        B: "细胞质",
                        C: "细胞膜",
                        D: "细胞壁"
                    },
                    answer: "D",
                    explanation: "细胞的基本结构包括细胞膜、细胞质和细胞核。细胞壁是植物细胞、细菌和真菌等具有的结构，动物细胞没有细胞壁，因此细胞壁不是细胞的基本结构。"
                },
                {
                    id: 32,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "下列关于DNA和RNA的说法中，正确的是（ ）",
                    options: {
                        A: "DNA和RNA都属于核酸",
                        B: "DNA和RNA都含有脱氧核糖",
                        C: "DNA和RNA都含有尿嘧啶",
                        D: "DNA和RNA都是单链结构"
                    },
                    answer: "A",
                    explanation: "DNA和RNA都属于核酸，故A正确；DNA含有脱氧核糖，RNA含有核糖，故B错误；RNA含有尿嘧啶，DNA含有胸腺嘧啶，故C错误；DNA通常是双链结构，RNA通常是单链结构，故D错误。"
                },
                {
                    id: 33,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "光合作用的场所是（ ）",
                    options: {
                        A: "线粒体",
                        B: "叶绿体",
                        C: "核糖体",
                        D: "细胞核"
                    },
                    answer: "B",
                    explanation: "光合作用的场所是叶绿体，叶绿体中含有叶绿素等光合色素，能够吸收、传递和转化光能，进行光合作用，故B正确；线粒体是有氧呼吸的主要场所，核糖体是蛋白质合成的场所，细胞核是遗传信息库，故A、C、D错误。"
                },
                {
                    id: 34,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "下列关于酶的说法中，正确的是（ ）",
                    options: {
                        A: "酶都是蛋白质",
                        B: "酶只能在细胞内发挥作用",
                        C: "酶具有高效性和专一性",
                        D: "酶的活性不受温度影响"
                    },
                    answer: "C",
                    explanation: "酶具有高效性和专一性，故C正确；绝大多数酶是蛋白质，少数酶是RNA，故A错误；酶在细胞内和细胞外都能发挥作用，故B错误；酶的活性受温度、pH等因素影响，故D错误。"
                },
                {
                    id: 35,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "有丝分裂过程中，染色体数目加倍发生在（ ）",
                    options: {
                        A: "间期",
                        B: "前期",
                        C: "中期",
                        D: "后期"
                    },
                    answer: "D",
                    explanation: "有丝分裂后期，着丝点分裂，姐妹染色单体分开成为染色体，染色体数目加倍，故D正确；间期主要进行DNA的复制和有关蛋白质的合成，染色体数目不变，故A错误；前期出现染色体，核膜、核仁消失，纺锤体形成，染色体数目不变，故B错误；中期染色体的着丝点排列在赤道板上，染色体形态稳定、数目清晰，染色体数目不变，故C错误。"
                },
                {
                    id: 36,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "下列关于基因的说法中，正确的是（ ）",
                    options: {
                        A: "基因是有遗传效应的DNA片段",
                        B: "基因是DNA上的任意片段",
                        C: "一个DNA分子上只有一个基因",
                        D: "基因只存在于细胞核中"
                    },
                    answer: "A",
                    explanation: "基因是有遗传效应的DNA片段，故A正确，B错误；一个DNA分子上含有许多个基因，故C错误；基因主要存在于细胞核中，此外在线粒体和叶绿体中也有少量基因，故D错误。"
                },
                {
                    id: 37,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "下列关于生态系统的说法中，正确的是（ ）",
                    options: {
                        A: "生态系统由生产者、消费者和分解者组成",
                        B: "生态系统中的能量流动是循环的",
                        C: "生态系统具有自我调节能力",
                        D: "生态系统的自动调节能力是无限的"
                    },
                    answer: "C",
                    explanation: "生态系统具有自我调节能力，能使生态系统保持相对稳定，故C正确；生态系统由生物群落和无机环境组成，生物群落包括生产者、消费者和分解者，故A错误；生态系统中的能量流动是单向的、逐级递减的，故B错误；生态系统的自动调节能力是有限的，当外界干扰超过一定限度时，生态系统就会遭到破坏，故D错误。"
                },
                {
                    id: 38,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "下列关于细胞呼吸的说法中，正确的是（ ）",
                    options: {
                        A: "有氧呼吸和无氧呼吸都能产生ATP",
                        B: "有氧呼吸和无氧呼吸都需要氧气参与",
                        C: "有氧呼吸和无氧呼吸的场所完全相同",
                        D: "有氧呼吸释放的能量全部储存在ATP中"
                    },
                    answer: "A",
                    explanation: "有氧呼吸和无氧呼吸都能产生ATP，为生命活动提供能量，故A正确；无氧呼吸不需要氧气参与，故B错误；有氧呼吸的场所是细胞质基质和线粒体，无氧呼吸的场所是细胞质基质，故C错误；有氧呼吸释放的能量大部分以热能形式散失，少部分储存在ATP中，故D错误。"
                },
                {
                    id: 39,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "下列关于进化的说法中，正确的是（ ）",
                    options: {
                        A: "生物进化的基本单位是个体",
                        B: "自然选择决定生物进化的方向",
                        C: "生物进化的实质是种群基因型频率的改变",
                        D: "隔离是物种形成的必要条件，生殖隔离是新物种形成的标志"
                    },
                    answer: "D",
                    explanation: "隔离是物种形成的必要条件，生殖隔离是新物种形成的标志，故D正确；生物进化的基本单位是种群，故A错误；自然选择决定生物进化的方向，这是正确的，但D选项也是正确的，不过根据教材定义，D选项表述更准确；生物进化的实质是种群基因频率的改变，故C错误。"
                },
                {
                    id: 40,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "下列关于免疫的说法中，正确的是（ ）",
                    options: {
                        A: "体液免疫主要靠T细胞发挥作用",
                        B: "细胞免疫主要靠B细胞发挥作用",
                        C: "抗体是由浆细胞产生的",
                        D: "过敏反应不属于免疫失调引起的疾病"
                    },
                    answer: "C",
                    explanation: "抗体是由浆细胞产生的，故C正确；体液免疫主要靠B细胞发挥作用，细胞免疫主要靠T细胞发挥作用，故A、B错误；过敏反应是免疫失调引起的疾病，故D错误。"
                },
                {
                    id: 41,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "下列关于植物激素的说法中，正确的是（ ）",
                    options: {
                        A: "生长素只能促进植物生长",
                        B: "赤霉素能促进细胞伸长",
                        C: "细胞分裂素能促进果实成熟",
                        D: "脱落酸能促进细胞分裂"
                    },
                    answer: "B",
                    explanation: "赤霉素能促进细胞伸长，从而引起植株增高，故B正确；生长素的作用具有两重性，既能促进生长，也能抑制生长，故A错误；细胞分裂素能促进细胞分裂，乙烯能促进果实成熟，故C错误；脱落酸能抑制细胞分裂，促进叶和果实的衰老和脱落，故D错误。"
                },
                {
                    id: 42,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "下列关于神经调节的说法中，正确的是（ ）",
                    options: {
                        A: "神经元是神经系统结构和功能的基本单位",
                        B: "兴奋在神经纤维上的传导是单向的",
                        C: "兴奋在神经元之间的传递是通过电信号完成的",
                        D: "脑干是调节机体活动的最高级中枢"
                    },
                    answer: "A",
                    explanation: "神经元是神经系统结构和功能的基本单位，故A正确；兴奋在神经纤维上的传导是双向的，故B错误；兴奋在神经元之间的传递是通过化学信号（神经递质）完成的，故C错误；大脑皮层才是调节机体活动的最高级中枢，脑干主要负责维持生命活动的基本中枢，故D错误。"
                },
                {
                    id: 43,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "下列关于种群的说法中，正确的是（ ）",
                    options: {
                        A: "种群是指一定区域内所有生物个体的总和",
                        B: "种群密度是种群最基本的数量特征",
                        C: "年龄组成能直接决定种群数量的变化",
                        D: "性别比例只影响种群的出生率，不影响死亡率"
                    },
                    answer: "B",
                    explanation: "种群密度是种群最基本的数量特征，故B正确；种群是指一定区域内同种生物所有个体的总和，故A错误；年龄组成能预测种群数量的变化趋势，不能直接决定种群数量的变化，故C错误；性别比例主要影响种群的出生率，一般不影响死亡率，故D错误。"
                },
                {
                    id: 44,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "下列关于物质跨膜运输的说法中，正确的是（ ）",
                    options: {
                        A: "自由扩散不需要载体蛋白，也不需要消耗能量",
                        B: "协助扩散需要载体蛋白，也需要消耗能量",
                        C: "主动运输不需要载体蛋白，但需要消耗能量",
                        D: "大分子物质只能通过主动运输进出细胞"
                    },
                    answer: "A",
                    explanation: "自由扩散不需要载体蛋白，也不需要消耗能量，物质从高浓度一侧向低浓度一侧扩散，故A正确；协助扩散需要载体蛋白，但不需要消耗能量，故B错误；主动运输需要载体蛋白，也需要消耗能量，故C错误；大分子物质通过胞吞和胞吐进出细胞，故D错误。"
                },
                {
                    id: 45,
                    subject: "生物",
                    subjectClass: "biology",
                    question: "下列关于孟德尔遗传定律的说法中，正确的是（ ）",
                    options: {
                        A: "孟德尔遗传定律适用于所有生物",
                        B: "基因的分离定律适用于等位基因",
                        C: "基因的自由组合定律适用于同源染色体上的非等位基因",
                        D: "孟德尔通过类比推理的方法提出了遗传定律"
                    },
                    answer: "B",
                    explanation: "基因的分离定律适用于等位基因，故B正确；孟德尔遗传定律适用于真核生物有性生殖的细胞核遗传，故A错误；基因的自由组合定律适用于非同源染色体上的非等位基因，故C错误；孟德尔通过假说-演绎法提出了遗传定律，故D错误。"
                },
                
                // 数学（46-60）
                {
                    id: 46,
                    subject: "数学",
                    subjectClass: "math",
                    question: "已知集合A={1,2,3}, B={2,3,4}, 则A∩B=（ ）",
                    options: {
                        A: "{1,2,3,4}",
                        B: "{2,3}",
                        C: "{1,4}",
                        D: "∅"
                    },
                    answer: "B",
                    explanation: "集合A和集合B的交集是指由既属于A又属于B的所有元素组成的集合，因此A∩B={2,3}，故B正确。"
                },
                {
                    id: 47,
                    subject: "数学",
                    subjectClass: "math",
                    question: "函数f(x)=√(x-1)的定义域是（ ）",
                    options: {
                        A: "(-∞,1)",
                        B: "(-∞,1]",
                        C: "(1,+∞)",
                        D: "[1,+∞)"
                    },
                    answer: "D",
                    explanation: "对于函数f(x)=√(x-1)，根号内的表达式必须大于等于0，即x-1≥0，解得x≥1，因此函数的定义域是[1,+∞)，故D正确。"
                },
                {
                    id: 48,
                    subject: "数学",
                    subjectClass: "math",
                    question: "已知向量a=(1,2), b=(3,4), 则a·b=（ ）",
                    options: {
                        A: "5",
                        B: "7",
                        C: "11",
                        D: "12"
                    },
                    answer: "C",
                    explanation: "向量a和向量b的数量积等于它们对应分量的乘积之和，即a·b=1×3+2×4=3+8=11，故C正确。"
                },
                {
                    id: 49,
                    subject: "数学",
                    subjectClass: "math",
                    question: "函数f(x)=sinx的最小正周期是（ ）",
                    options: {
                        A: "π/2",
                        B: "π",
                        C: "2π",
                        D: "4π"
                    },
                    answer: "C",
                    explanation: "正弦函数f(x)=sinx的最小正周期是2π，故C正确。"
                },
                {
                    id: 50,
                    subject: "数学",
                    subjectClass: "math",
                    question: "已知直线l的方程为2x-y+1=0, 则直线l的斜率是（ ）",
                    options: {
                        A: "-2",
                        B: "-1/2",
                        C: "1/2",
                        D: "2"
                    },
                    answer: "D",
                    explanation: "将直线方程2x-y+1=0化为斜截式y=2x+1，因此直线l的斜率是2，故D正确。"
                },
                {
                    id: 51,
                    subject: "数学",
                    subjectClass: "math",
                    question: "已知等差数列{an}中，a1=1, a3=5, 则公差d=（ ）",
                    options: {
                        A: "1",
                        B: "2",
                        C: "3",
                        D: "4"
                    },
                    answer: "B",
                    explanation: "在等差数列中，a3=a1+2d，代入已知条件得5=1+2d，解得d=2，故B正确。"
                },
                {
                    id: 52,
                    subject: "数学",
                    subjectClass: "math",
                    question: "函数f(x)=x²-2x+3的最小值是（ ）",
                    options: {
                        A: "1",
                        B: "2",
                        C: "3",
                        D: "4"
                    },
                    answer: "B",
                    explanation: "将函数f(x)=x²-2x+3配方得f(x)=(x-1)²+2，因此当x=1时，函数取得最小值2，故B正确。"
                },
                {
                    id: 53,
                    subject: "数学",
                    subjectClass: "math",
                    question: "已知cosθ=3/5, 且θ为锐角，则sinθ=（ ）",
                    options: {
                        A: "2/5",
                        B: "3/5",
                        C: "4/5",
                        D: "1"
                    },
                    answer: "C",
                    explanation: "根据三角函数的基本关系sin²θ+cos²θ=1，代入cosθ=3/5得sin²θ=1-(9/25)=16/25，因为θ为锐角，所以sinθ>0，因此sinθ=4/5，故C正确。"
                },
                {
                    id: 54,
                    subject: "数学",
                    subjectClass: "math",
                    question: "已知直线l1: x+y-1=0, l2: 2x+2y-3=0, 则直线l1与l2的位置关系是（ ）",
                    options: {
                        A: "平行",
                        B: "相交",
                        C: "重合",
                        D: "垂直"
                    },
                    answer: "A",
                    explanation: "将直线l1和l2的方程化为斜截式：l1: y=-x+1, l2: y=-x+3/2，两条直线的斜率相等，但截距不相等，因此它们平行，故A正确。"
                },
                {
                    id: 55,
                    subject: "数学",
                    subjectClass: "math",
                    question: "已知函数f(x)=log2x, 则f(4)=（ ）",
                    options: {
                        A: "1",
                        B: "2",
                        C: "4",
                        D: "8"
                    },
                    answer: "B",
                    explanation: "f(4)=log24=log22²=2，故B正确。"
                },
                {
                    id: 56,
                    subject: "数学",
                    subjectClass: "math",
                    question: "已知复数z=2+3i, 则|z|=（ ）",
                    options: {
                        A: "√5",
                        B: "√13",
                        C: "5",
                        D: "13"
                    },
                    answer: "B",
                    explanation: "复数z=a+bi的模|z|=√(a²+b²)，因此|z|=√(2²+3²)=√(4+9)=√13，故B正确。"
                },
                {
                    id: 57,
                    subject: "数学",
                    subjectClass: "math",
                    question: "曲线y=x³在点(1,1)处的切线方程是（ ）",
                    options: {
                        A: "y=3x-2",
                        B: "y=3x+2",
                        C: "y=-3x-2",
                        D: "y=-3x+2"
                    },
                    answer: "A",
                    explanation: "首先求导得y'=3x²，在点(1,1)处的导数值为y'=3×1²=3，即切线的斜率为3，因此切线方程为y-1=3(x-1)，化简得y=3x-2，故A正确。"
                },
                {
                    id: 58,
                    subject: "数学",
                    subjectClass: "math",
                    question: "已知双曲线x²/4 - y²/9=1, 则其渐近线方程是（ ）",
                    options: {
                        A: "y=±(2/3)x",
                        B: "y=±(3/2)x",
                        C: "y=±(4/9)x",
                        D: "y=±(9/4)x"
                    },
                    answer: "B",
                    explanation: "对于双曲线x²/a² - y²/b²=1，其渐近线方程是y=±(b/a)x，在双曲线x²/4 - y²/9=1中，a²=4, b²=9，因此a=2, b=3，所以渐近线方程是y=±(3/2)x，故B正确。"
                },
                {
                    id: 59,
                    subject: "数学",
                    subjectClass: "math",
                    question: "从5名男生和3名女生中选出2名男生和1名女生参加活动，不同的选法共有（ ）",
                    options: {
                        A: "15种",
                        B: "30种",
                        C: "45种",
                        D: "60种"
                    },
                    answer: "B",
                    explanation: "从5名男生中选出2名男生的选法有C(5,2)=10种，从3名女生中选出1名女生的选法有C(3,1)=3种，根据分步乘法计数原理，不同的选法共有10×3=30种，故B正确。"
                },
                {
                    id: 60,
                    subject: "数学",
                    subjectClass: "math",
                    question: "已知函数f(x)是定义在R上的奇函数，且f(1)=2, 则f(-1)=（ ）",
                    options: {
                        A: "-2",
                        B: "0",
                        C: "1",
                        D: "2"
                    },
                    answer: "A",
                    explanation: "因为函数f(x)是奇函数，所以f(-x)=-f(x)，因此f(-1)=-f(1)=-2，故A正确。"
                },
                
                // 英语（61-75）
                {
                    id: 61,
                    subject: "英语",
                    subjectClass: "english",
                    question: "He ______ to school every day.（ ）",
                    options: {
                        A: "go",
                        B: "goes",
                        C: "went",
                        D: "will go"
                    },
                    answer: "B",
                    explanation: "句子的时间状语是every day，表示经常发生的动作，因此应该使用一般现在时。主语he是第三人称单数，因此谓语动词应该用第三人称单数形式goes，故B正确。"
                },
                {
                    id: 62,
                    subject: "英语",
                    subjectClass: "english",
                    question: "I ______ a book when he came in.（ ）",
                    options: {
                        A: "read",
                        B: "am reading",
                        C: "was reading",
                        D: "will read"
                    },
                    answer: "C",
                    explanation: "句子的意思是“当他进来的时候，我正在看书”，表示过去某个时间点正在进行的动作，应该使用过去进行时，其结构是was/were+动词的现在分词，因此正确答案是was reading，故C正确。"
                },
                {
                    id: 63,
                    subject: "英语",
                    subjectClass: "english",
                    question: "This is the book ______ I bought yesterday.（ ）",
                    options: {
                        A: "who",
                        B: "whom",
                        C: "which",
                        D: "what"
                    },
                    answer: "C",
                    explanation: "这是一个定语从句，先行词是the book，指物，因此关系代词应该用which或that，故C正确；who和whom用于指人，what不能引导定语从句，因此A、B、D错误。"
                },
                {
                    id: 64,
                    subject: "英语",
                    subjectClass: "english",
                    question: "She is ______ than her sister.（ ）",
                    options: {
                        A: "tall",
                        B: "taller",
                        C: "tallest",
                        D: "the tallest"
                    },
                    answer: "B",
                    explanation: "句子中使用了than，表明这是一个比较级的句子，因此应该使用形容词的比较级形式taller，故B正确；tall是原级，tallest是最高级，因此A、C、D错误。"
                },
                {
                    id: 65,
                    subject: "英语",
                    subjectClass: "english",
                    question: "If it ______ tomorrow, we will stay at home.（ ）",
                    options: {
                        A: "rain",
                        B: "rains",
                        C: "rained",
                        D: "will rain"
                    },
                    answer: "B",
                    explanation: "这是一个if引导的条件状语从句，主句使用一般将来时，从句应该使用一般现在时表示将来，因此正确答案是rains，故B正确。"
                },
                {
                    id: 66,
                    subject: "英语",
                    subjectClass: "english",
                    question: "The book ______ by him last year.（ ）",
                    options: {
                        A: "writes",
                        B: "is written",
                        C: "was written",
                        D: "will be written"
                    },
                    answer: "C",
                    explanation: "句子的意思是“这本书是他去年写的”，表示过去发生的被动动作，应该使用一般过去时的被动语态，其结构是was/were+动词的过去分词，因此正确答案是was written，故C正确。"
                },
                {
                    id: 67,
                    subject: "英语",
                    subjectClass: "english",
                    question: "He asked me ______ I would go to the party.（ ）",
                    options: {
                        A: "if",
                        B: "what",
                        C: "which",
                        D: "whose"
                    },
                    answer: "A",
                    explanation: "句子的意思是“他问我是否会去参加聚会”，因此应该使用if引导宾语从句，表示“是否”的意思，故A正确；what、which、whose在宾语从句中充当一定的成分，不符合句意，因此B、C、D错误。"
                },
                {
                    id: 68,
                    subject: "英语",
                    subjectClass: "english",
                    question: "I have been learning English ______ five years.（ ）",
                    options: {
                        A: "since",
                        B: "for",
                        C: "in",
                        D: "on"
                    },
                    answer: "B",
                    explanation: "句子使用了现在完成进行时，表示动作从过去开始一直持续到现在，for后面接一段时间，since后面接时间点，因此正确答案是for，故B正确。"
                },
                {
                    id: 69,
                    subject: "英语",
                    subjectClass: "english",
                    question: "______ beautiful the flowers are!（ ）",
                    options: {
                        A: "What",
                        B: "What a",
                        C: "How",
                        D: "How a"
                    },
                    answer: "C",
                    explanation: "这是一个感叹句，感叹句的结构有两种：What+(a/an)+形容词+名词+主语+谓语！和How+形容词/副词+主语+谓语！在这个句子中，beautiful是形容词，后面没有名词，因此应该用How引导，故C正确。"
                },
                {
                    id: 70,
                    subject: "英语",
                    subjectClass: "english",
                    question: "He suggested ______ to the park.（ ）",
                    options: {
                        A: "go",
                        B: "to go",
                        C: "going",
                        D: "went"
                    },
                    answer: "C",
                    explanation: "suggest后面接动词时，应该用动名词形式，即suggest doing sth.，因此正确答案是going，故C正确。"
                },
                {
                    id: 71,
                    subject: "英语",
                    subjectClass: "english",
                    question: "She has ______ brother.（ ）",
                    options: {
                        A: "a 18-year-old",
                        B: "an 18-year-old",
                        C: "a 18-years-old",
                        D: "an 18-years-old"
                    },
                    answer: "B",
                    explanation: "18-year-old是一个复合形容词，用来修饰名词brother，其中year用单数形式，18的发音以元音音素开头，因此前面应该用不定冠词an，故B正确。"
                },
                {
                    id: 72,
                    subject: "英语",
                    subjectClass: "english",
                    question: "I don't know ______ he will come or not.（ ）",
                    options: {
                        A: "if",
                        B: "whether",
                        C: "that",
                        D: "what"
                    },
                    answer: "B",
                    explanation: "在表示“是否”的意思时，whether可以与or not连用，而if不能，因此正确答案是whether，故B正确。"
                },
                {
                    id: 73,
                    subject: "英语",
                    subjectClass: "english",
                    question: "The number of students in our class ______ 50.（ ）",
                    options: {
                        A: "is",
                        B: "are",
                        C: "be",
                        D: "am"
                    },
                    answer: "A",
                    explanation: "the number of表示“……的数量”，作主语时，谓语动词用单数形式，因此正确答案是is，故A正确；a number of表示“许多”，作主语时，谓语动词用复数形式。"
                },
                {
                    id: 74,
                    subject: "英语",
                    subjectClass: "english",
                    question: "It is important ______ us to learn English well.（ ）",
                    options: {
                        A: "to",
                        B: "for",
                        C: "with",
                        D: "of"
                    },
                    answer: "B",
                    explanation: "It is+形容词+for sb. to do sth.是一个固定句型，表示“对某人来说做某事是……的”，因此正确答案是for，故B正确；如果形容词是表示人的品质的，如kind, clever等，应该用of。"
                },
                {
                    id: 75,
                    subject: "英语",
                    subjectClass: "english",
                    question: "By the time we arrived, the meeting ______.（ ）",
                    options: {
                        A: "has begun",
                        B: "had begun",
                        C: "will begin",
                        D: "begins"
                    },
                    answer: "B",
                    explanation: "by the time引导的时间状语从句使用了一般过去时，表示“到……时候为止”，主句应该使用过去完成时，表示在过去某个时间之前已经完成的动作，因此正确答案是had begun，故B正确。"
                },
                
                // 语文（76-85）
                {
                    id: 76,
                    subject: "语文",
                    subjectClass: "chinese",
                    question: "下列词语中，加点字的读音完全正确的一项是（ ）",
                    options: {
                        A: "粗犷（kuàng） 包庇（bì）",
                        B: "联袂（mèi） 字帖（tiè）",
                        C: "炽热（zhì） 应届（yīng）",
                        D: "风靡（mí） 模样（mó）"
                    },
                    answer: "B",
                    explanation: "A选项中“粗犷”的“犷”应读guǎng；C选项中“炽热”的“炽”应读chì；D选项中“风靡”的“靡”应读mǐ，“模样”的“模”应读mú；B选项读音完全正确，故B正确。"
                },
                {
                    id: 77,
                    subject: "语文",
                    subjectClass: "chinese",
                    question: "下列词语中，没有错别字的一项是（ ）",
                    options: {
                        A: "寒暄 再接再厉",
                        B: "松驰 一诺千金",
                        C: "脉博 世外桃源",
                        D: "震憾 迫不及待"
                    },
                    answer: "A",
                    explanation: "B选项中“松驰”应改为“松弛”；C选项中“脉博”应改为“脉搏”；D选项中“震憾”应改为“震撼”；A选项没有错别字，故A正确。"
                },
                {
                    id: 78,
                    subject: "语文",
                    subjectClass: "chinese",
                    question: "下列句子中，加点成语使用恰当的一项是（ ）",
                    options: {
                        A: "他的作文想象丰富，表达流畅，老师十分赞赏，称其文思敏捷，信手拈来。",
                        B: "在这次考试中，他取得了优异的成绩，让人另眼相看。",
                        C: "他的发言滔滔不绝，观点鲜明，真可谓是言简意赅。",
                        D: "这部小说情节跌宕起伏，抑扬顿挫，引人入胜。"
                    },
                    answer: "B",
                    explanation: "A选项中“信手拈来”多形容写文章时词汇或材料丰富，不费思索，就能写出来，用在此处不恰当；C选项中“言简意赅”形容言语简练而意思完备，与“滔滔不绝”矛盾；D选项中“抑扬顿挫”形容声音高低起伏，和谐而有节奏，不能用来形容小说情节；B选项中“另眼相看”指用另一种眼光看待，形容对某人某事特别重视，使用恰当，故B正确。"
                },
                {
                    id: 79,
                    subject: "语文",
                    subjectClass: "chinese",
                    question: "下列句子中，没有语病的一项是（ ）",
                    options: {
                        A: "通过这次活动，使我们受到了深刻的教育。",
                        B: "我们要努力克服并随时发现自己的缺点。",
                        C: "是否具有良好的心理素质，是考试取得好成绩的关键。",
                        D: "他的家乡是江苏省南京市人。"
                    },
                    answer: "C",
                    explanation: "A选项缺少主语，应删去“通过”或“使”；B选项语序不当，应改为“随时发现并努力克服”；D选项句式杂糅，应改为“他的家乡是江苏省南京市”或“他是江苏省南京市人”；C选项没有语病，故C正确。"
                },
                {
                    id: 80,
                    subject: "语文",
                    subjectClass: "chinese",
                    question: "下列文学常识表述有误的一项是（ ）",
                    options: {
                        A: "《论语》是儒家经典著作之一，记录了孔子及其弟子的言行。",
                        B: "李白是唐代伟大的浪漫主义诗人，被称为“诗仙”。",
                        C: "《红楼梦》的作者是清代的吴承恩。",
                        D: "鲁迅是中国现代文学的奠基人之一，代表作有《呐喊》《彷徨》等。"
                    },
                    answer: "C",
                    explanation: "《红楼梦》的作者是清代的曹雪芹，吴承恩是明代小说家，代表作是《西游记》，因此C选项表述有误，故C正确。"
                },
                {
                    id: 81,
                    subject: "语文",
                    subjectClass: "chinese",
                    question: "下列句子中，标点符号使用正确的一项是（ ）",
                    options: {
                        A: "他看上去十七、八岁，一副瘦骨嶙峋的样子。",
                        B: "“这究竟是怎么回事呢？同志们。”厂长严肃地说。",
                        C: "基础知识究竟扎实不扎实？对今后的继续深造有重要影响。",
                        D: "我联想到了唐朝贾岛的诗句：“只在此山中，云深不知处。”"
                    },
                    answer: "D",
                    explanation: "A选项中“十七、八岁”表示约数，中间不应加顿号；B选项中问号应放在句末，应改为“这究竟是怎么回事呢，同志们？”；C选项中该句不是疑问句，不应加问号，应改为逗号；D选项标点符号使用正确，故D正确。"
                },
                {
                    id: 82,
                    subject: "语文",
                    subjectClass: "chinese",
                    question: "下列句子中，修辞手法判断有误的一项是（ ）",
                    options: {
                        A: "飞流直下三千尺，疑是银河落九天。（夸张）",
                        B: "叶子出水很高，像亭亭的舞女的裙。（比喻）",
                        C: "盼望着，盼望着，东风来了，春天的脚步近了。（排比）",
                        D: "小草偷偷地从土里钻出来，嫩嫩的，绿绿的。（拟人）"
                    },
                    answer: "C",
                    explanation: "C选项使用的修辞手法是反复和拟人，不是排比，排比需要三个或三个以上结构相似、意思相关、语气一致的短语或句子并排，因此C选项修辞手法判断有误，故C正确。"
                },
                {
                    id: 83,
                    subject: "语文",
                    subjectClass: "chinese",
                    question: "下列诗句中，描写春天景色的一项是（ ）",
                    options: {
                        A: "忽如一夜春风来，千树万树梨花开。",
                        B: "接天莲叶无穷碧，映日荷花别样红。",
                        C: "天街小雨润如酥，草色遥看近却无。",
                        D: "停车坐爱枫林晚，霜叶红于二月花。"
                    },
                    answer: "C",
                    explanation: "A选项描写的是冬天的雪景；B选项描写的是夏天的荷花；C选项描写的是春天的景色；D选项描写的是秋天的枫叶；因此C选项正确。"
                },
                {
                    id: 84,
                    subject: "语文",
                    subjectClass: "chinese",
                    question: "下列对加点词语的解释，不正确的一项是（ ）",
                    options: {
                        A: "昂首观之，项为之强（强：僵硬）",
                        B: "肉食者鄙，未能远谋（鄙：卑鄙）",
                        C: "旦日，卒中往往语（往往：到处）",
                        D: "先帝不以臣卑鄙（卑鄙：身份低微，见识短浅）"
                    },
                    answer: "B",
                    explanation: "B选项中“鄙”的意思是“目光短浅”，不是“卑鄙”，因此B选项解释不正确，故B正确。"
                },
                {
                    id: 85,
                    subject: "语文",
                    subjectClass: "chinese",
                    question: "下列句子中，与“忌不自信”句式相同的一项是（ ）",
                    options: {
                        A: "吴广素爱人，士卒多为用者。",
                        B: "甚矣，汝之不惠！",
                        C: "手指不可屈伸，弗之怠。",
                        D: "曹公，豺虎也。"
                    },
                    answer: "C",
                    explanation: "“忌不自信”是宾语前置句，正常语序是“忌不信自”；C选项“弗之怠”也是宾语前置句，正常语序是“弗怠之”；A选项是被动句；B选项是主谓倒装句；D选项是判断句；因此C选项与例句句式相同，故C正确。"
                },
                
                // 历史（86-90）
                {
                    id: 86,
                    subject: "历史",
                    subjectClass: "history",
                    question: "中国近代史的开端是（ ）",
                    options: {
                        A: "鸦片战争",
                        B: "第二次鸦片战争",
                        C: "甲午中日战争",
                        D: "八国联军侵华战争"
                    },
                    answer: "A",
                    explanation: "鸦片战争（1840-1842年）是中国近代史的开端，它使中国开始沦为半殖民地半封建社会，中国社会的主要矛盾和革命任务都发生了变化，故A正确。"
                },
                {
                    id: 87,
                    subject: "历史",
                    subjectClass: "history",
                    question: "辛亥革命推翻了中国历史上最后一个封建王朝，这个王朝是（ ）",
                    options: {
                        A: "唐朝",
                        B: "宋朝",
                        C: "明朝",
                        D: "清朝"
                    },
                    answer: "D",
                    explanation: "辛亥革命发生于1911年，推翻了统治中国268年的清朝，结束了中国两千多年的封建君主专制制度，建立了中华民国，故D正确。"
                },
                {
                    id: 88,
                    subject: "历史",
                    subjectClass: "history",
                    question: "中国共产党成立于哪一年（ ）",
                    options: {
                        A: "1911年",
                        B: "1919年",
                        C: "1921年",
                        D: "1949年"
                    },
                    answer: "C",
                    explanation: "1921年7月23日，中国共产党第一次全国代表大会在上海召开，标志着中国共产党的正式成立，故C正确。"
                },
                {
                    id: 89,
                    subject: "历史",
                    subjectClass: "history",
                    question: "第二次世界大战全面爆发的标志是（ ）",
                    options: {
                        A: "萨拉热窝事件",
                        B: "德国闪击波兰",
                        C: "日本偷袭珍珠港",
                        D: "诺曼底登陆"
                    },
                    answer: "B",
                    explanation: "1939年9月1日，德国闪击波兰，标志着第二次世界大战全面爆发，故B正确；萨拉热窝事件是第一次世界大战的导火索；日本偷袭珍珠港标志着太平洋战争的爆发；诺曼底登陆是第二次世界大战中盟军在欧洲西线战场发起的一场大规模攻势。"
                },
                {
                    id: 90,
                    subject: "历史",
                    subjectClass: "history",
                    question: "文艺复兴的核心思想是（ ）",
                    options: {
                        A: "人文主义",
                        B: "理性主义",
                        C: "社会主义",
                        D: "自由主义"
                    },
                    answer: "A",
                    explanation: "文艺复兴是14世纪至16世纪欧洲文化和思想发展的一个历史时期，其核心思想是人文主义，主张以人为中心而不是以神为中心，肯定人的价值和尊严，故A正确；理性主义是启蒙运动的核心思想。"
                },
                
                // 地理（91-95）
                {
                    id: 91,
                    subject: "地理",
                    subjectClass: "geography",
                    question: "地球自转的方向是（ ）",
                    options: {
                        A: "自东向西",
                        B: "自西向东",
                        C: "自南向北",
                        D: "自北向南"
                    },
                    answer: "B",
                    explanation: "地球自转的方向是自西向东，从北极上空看，地球呈逆时针方向旋转；从南极上空看，地球呈顺时针方向旋转，故B正确。"
                },
                {
                    id: 92,
                    subject: "地理",
                    subjectClass: "geography",
                    question: "世界上面积最大的大洲是（ ）",
                    options: {
                        A: "亚洲",
                        B: "非洲",
                        C: "北美洲",
                        D: "南美洲"
                    },
                    answer: "A",
                    explanation: "亚洲是世界上面积最大的大洲，面积约                        4400万平方千米，约占世界陆地总面积的29.4%，故A正确。"
                },
                {
                    id: 93,
                    subject: "地理",
                    subjectClass: "geography",
                    question: "下列现象中，由地球公转引起的是（ ）",
                    options: {
                        A: "昼夜更替",
                        B: "时间差异",
                        C: "四季变化",
                        D: "日月星辰东升西落"
                    },
                    answer: "C",
                    explanation: "地球公转产生的地理现象有四季变化、昼夜长短的变化、正午太阳高度的变化等；地球自转产生的地理现象有昼夜更替、时间差异、日月星辰东升西落等，故C正确。"
                },
                {
                    id: 94,
                    subject: "地理",
                    subjectClass: "geography",
                    question: "世界上最大的热带雨林气候区分布在（ ）",
                    options: {
                        A: "亚马孙河流域",
                        B: "刚果河流域",
                        C: "马来群岛",
                        D: "非洲撒哈拉地区"
                    },
                    answer: "A",
                    explanation: "世界上最大的热带雨林气候区分布在南美洲的亚马孙河流域，该地区终年高温多雨，植物生长茂盛，故A正确。"
                },
                {
                    id: 95,
                    subject: "地理",
                    subjectClass: "geography",
                    question: "下列关于板块构造学说的说法中，正确的是（ ）",
                    options: {
                        A: "地球表层由七大板块组成",
                        B: "板块内部地壳比较活跃",
                        C: "板块交界地带地壳比较稳定",
                        D: "板块运动是引起火山和地震的主要原因"
                    },
                    answer: "D",
                    explanation: "板块运动是引起火山和地震的主要原因，故D正确；地球表层由六大板块组成，故A错误；板块内部地壳比较稳定，板块交界地带地壳比较活跃，故B、C错误。"
                },
                
                // 政治（96-100）
                {
                    id: 96,
                    subject: "政治",
                    subjectClass: "politics",
                    question: "我国的根本政治制度是（ ）",
                    options: {
                        A: "人民代表大会制度",
                        B: "中国共产党领导的多党合作和政治协商制度",
                        C: "民族区域自治制度",
                        D: "基层群众自治制度"
                    },
                    answer: "A",
                    explanation: "人民代表大会制度是我国的根本政治制度，是我国人民当家作主的重要途径和最高实现形式，故A正确；中国共产党领导的多党合作和政治协商制度、民族区域自治制度、基层群众自治制度是我国的基本政治制度。"
                },
                {
                    id: 97,
                    subject: "政治",
                    subjectClass: "politics",
                    question: "商品的基本属性是（ ）",
                    options: {
                        A: "价值和价格",
                        B: "价值和使用价值",
                        C: "使用价值和价格",
                        D: "交换价值和价值"
                    },
                    answer: "B",
                    explanation: "商品是用于交换的劳动产品，具有使用价值和价值两种基本属性，使用价值是商品能够满足人们某种需要的属性，价值是凝结在商品中的无差别的人类劳动，故B正确。"
                },
                {
                    id: 98,
                    subject: "政治",
                    subjectClass: "politics",
                    question: "我国公民最基本的政治权利是（ ）",
                    options: {
                        A: "言论自由",
                        B: "选举权和被选举权",
                        C: "监督权",
                        D: "受教育权"
                    },
                    answer: "B",
                    explanation: "选举权和被选举权是我国公民最基本的政治权利，是公民参与管理国家和管理社会的基础和标志，故B正确；言论自由和监督权是公民的政治权利，但不是最基本的；受教育权是公民的文化权利。"
                },
                {
                    id: 99,
                    subject: "政治",
                    subjectClass: "politics",
                    question: "下列关于国际关系的说法中，正确的是（ ）",
                    options: {
                        A: "国际关系的基本形式是合作",
                        B: "国家利益是国际关系的决定性因素",
                        C: "国际关系的内容就是政治关系",
                        D: "国家力量是国际关系的决定性因素"
                    },
                    answer: "B",
                    explanation: "国家利益是国际关系的决定性因素，国家间的共同利益是国家合作的基础，而利益对立则是引起国家冲突的根源，故B正确；国际关系的基本形式是竞争、合作和冲突；国际关系的内容包括政治、经济、文化、军事等多方面；国家力量是影响国际关系的重要因素，但不是决定性因素。"
                },
                {
                    id: 100,
                    subject: "政治",
                    subjectClass: "politics",
                    question: "辩证唯物主义认为，物质的唯一特性是（ ）",
                    options: {
                        A: "运动性",
                        B: "可知性",
                        C: "客观实在性",
                        D: "普遍性"
                    },
                    answer: "C",
                    explanation: "辩证唯物主义认为，物质是不依赖于人的意识，并能为人的意识所反映的客观实在，物质的唯一特性是客观实在性，故C正确；运动是物质的根本属性和存在方式。"
                }
            ];
            
            // 当前题目索引
            let currentQuestionIndex = -1;
            let currentQuestion = null;
            let selectedOption = null;
            let filteredQuestions = [...questionBank];
            let currentSubjectFilter = 'all';
            
            // 更新统计数据显示
            function updateStatsDisplay() {
                const accuracy = stats.total > 0 ? Math.round((stats.correct / stats.total) * 100) : 0;
                
                document.getElementById('total-count').textContent = stats.total;
                document.getElementById('accuracy-rate').textContent = `${accuracy}%`;
                document.getElementById('correct-count').textContent = stats.correct;
                document.getElementById('current-streak').textContent = stats.currentStreak;
                document.getElementById('wrong-count').textContent = stats.wrong;
                
                // 更新弹窗统计
                document.getElementById('modal-total').textContent = stats.total;
                document.getElementById('modal-accuracy').textContent = `${accuracy}%`;
                document.getElementById('modal-streak').textContent = stats.currentStreak;
                document.getElementById('modal-best-streak').textContent = stats.bestStreak;
                
                // 更新错题本徽章
                const wrongBadge = document.getElementById('wrong-badge');
                if (stats.wrongQuestions.length > 0) {
                    wrongBadge.textContent = stats.wrongQuestions.length;
                    wrongBadge.classList.remove('hidden');
                } else {
                    wrongBadge.classList.add('hidden');
                }
                
                // 更新学习计划进度
                document.getElementById('daily-current').textContent = planData.progress[today];
                document.getElementById('daily-target').textContent = `/ ${planData.dailyGoal}`;
                const progressPercent = Math.min(100, (planData.progress[today] / planData.dailyGoal) * 100);
                document.getElementById('daily-progress-bar').style.width = `${progressPercent}%`;
                document.getElementById('streak-days').textContent = `${planData.streakDays}天`;
                
                // 计算本月完成率
                const currentMonth = new Date().getMonth();
                const currentYear = new Date().getFullYear();
                let totalDaysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
                let completedDays = 0;
                
                for (let i = 1; i <= totalDaysInMonth; i++) {
                    const date = new Date(currentYear, currentMonth, i).toISOString().split('T')[0];
                    if (planData.progress[date] >= planData.dailyGoal) {
                        completedDays++;
                    }
                    
                    // 如果是今天及之前的日期
                    if (i <= new Date().getDate()) {
                        continue;
                    } else {
                        break;
                    }
                }
                
                const monthlyCompletion = totalDaysInMonth > 0 ? Math.round((completedDays / totalDaysInMonth) * 100) : 0;
                document.getElementById('monthly-completion').textContent = `${monthlyCompletion}%`;
                
                // 显示目标提醒
                const goalReminder = document.getElementById('goal-reminder');
                const goalReminderText = document.getElementById('goal-reminder-text');
                goalReminderText.textContent = `已完成 ${planData.progress[today]}/${planData.dailyGoal} 题，继续努力！`;
                
                if (planData.progress[today] < planData.dailyGoal && stats.total > 0) {
                    goalReminder.classList.remove('hidden');
                } else {
                    goalReminder.classList.add('hidden');
                }
                
                // 检查是否完成今日目标
                if (planData.progress[today] >= planData.dailyGoal && !localStorage.getItem('goalCompletedToday')) {
                    showAchievement('今日目标达成！', `恭喜你完成了今日${planData.dailyGoal}题的学习目标！`);
                    localStorage.setItem('goalCompletedToday', 'true');
                    
                    // 更新连续打卡
                    if (planData.lastStudyDate !== today) {
                        planData.streakDays++;
                        planData.lastStudyDate = today;
                        savePlanData();
                    }
                }
                
                // 更新科目统计
                const subjectStatsContainer = document.getElementById('subject-stats');
                subjectStatsContainer.innerHTML = '';
                
                const subjects = [
                    { name: '物理', class: 'physics' },
                    { name: '化学', class: 'chemistry' },
                    { name: '生物', class: 'biology' },
                    { name: '数学', class: 'math' },
                    { name: '英语', class: 'english' },
                    { name: '语文', class: 'chinese' },
                    { name: '历史', class: 'history' },
                    { name: '地理', class: 'geography' },
                    { name: '政治', class: 'politics' }
                ];
                
                subjects.forEach(subject => {
                    const data = stats.subjects[subject.class];
                    const accuracy = data.total > 0 ? Math.round((data.correct / data.total) * 100) : 0;
                    
                    const subjectStat = document.createElement('div');
                    subjectStat.className = 'flex justify-between items-center';
                    subjectStat.innerHTML = `
                        <span class="flex items-center">
                            <span class="w-2 h-2 rounded-full bg-${subject.class} mr-2"></span>
                            ${subject.name}
                        </span>
                        <span>${accuracy}%</span>
                    `;
                    subjectStatsContainer.appendChild(subjectStat);
                });
            }
            
            // 显示新题目
            function showNewQuestion() {
                // 过滤已回答的题目，确保不重复出现
                const unAnsweredQuestions = filteredQuestions.filter(q => 
                    !stats.answeredQuestions.includes(q.id)
                );
                
                // 如果没有未回答的题目，则从所有题目中随机选择
                const availableQuestions = unAnsweredQuestions.length > 0 ? 
                    unAnsweredQuestions : filteredQuestions;
                
                if (availableQuestions.length === 0) {
                    document.getElementById('question-text').textContent = '没有找到相关题目，请尝试其他科目筛选。';
                    document.getElementById('options-container').innerHTML = '';
                    document.getElementById('submit-btn').disabled = true;
                    return;
                }
                
                // 随机选择一道题目
                currentQuestionIndex = Math.floor(Math.random() * availableQuestions.length);
                currentQuestion = availableQuestions[currentQuestionIndex];
                selectedOption = null;
                
                // 更新题目显示
                document.getElementById('question-subject').textContent = currentQuestion.subject;
                document.getElementById('question-subject').className = `subject-badge bg-${currentQuestion.subjectClass}/10 text-${currentQuestion.subjectClass} mr-2`;
                document.getElementById('question-text').textContent = currentQuestion.question;
                document.getElementById('question-id').textContent = `题ID: ${currentQuestion.id}`;
                
                // 设置装饰元素颜色
                document.getElementById('question-decoration').className = `absolute -right-10 -top-10 w-20 h-20 rounded-full opacity-10 bg-${currentQuestion.subjectClass}`;
                
                // 生成选项
                const optionsContainer = document.getElementById('options-container');
                optionsContainer.innerHTML = '';
                
                for (const [key, value] of Object.entries(currentQuestion.options)) {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option-item';
                    optionElement.dataset.option = key;
                    optionElement.innerHTML = `<span class="font-medium mr-2">${key}.</span> ${value}`;
                    
                    optionElement.addEventListener('click', function() {
                        // 移除其他选项的选中状态
                        document.querySelectorAll('.option-item').forEach(item => {
                            item.classList.remove('option-selected');
                        });
                        
                        // 设置当前选项为选中状态
                        this.classList.add('option-selected');
                        selectedOption = key;
                        
                        // 启用提交按钮
                        document.getElementById('submit-btn').disabled = false;
                    });
                    
                    optionsContainer.appendChild(optionElement);
                }
                
                // 重置按钮和解析区
                document.getElementById('submit-btn').disabled = true;
                document.getElementById('submit-btn').classList.remove('hidden');
                document.getElementById('next-btn').classList.add('hidden');
                document.getElementById('explanation-container').classList.add('hidden');
                
                // 添加动画效果
                document.getElementById('question-container').classList.remove('fade-in');
                void document.getElementById('question-container').offsetWidth; // 重置动画
                document.getElementById('question-container').classList.add('fade-in');
            }
            
            // 提交答案
            document.getElementById('submit-btn').addEventListener('click', function() {
                if (!selectedOption) return;
                
                // 禁用所有选项
                document.querySelectorAll('.option-item').forEach(item => {
                    item.style.pointerEvents = 'none';
                    
                    // 标记正确和错误选项
                    if (item.dataset.option === currentQuestion.answer) {
                        item.classList.add('option-correct');
                    } else if (item.dataset.option === selectedOption) {
                        item.classList.add('option-incorrect');
                    }
                });
                
                // 显示解析
                document.getElementById('correct-answer').textContent = currentQuestion.answer;
                document.getElementById('explanation-text').textContent = currentQuestion.explanation;
                document.getElementById('explanation-container').classList.remove('hidden');
                
                // 切换按钮
                this.classList.add('hidden');
                document.getElementById('next-btn').classList.remove('hidden');
                
                // 更新统计数据
                stats.total++;
                planData.progress[today]++;
                stats.answeredQuestions.push(currentQuestion.id);
                stats.subjects[currentQuestion.subjectClass].total++;
                
                // 检查是否正确
                if (selectedOption === currentQuestion.answer) {
                    // 正确
                    stats.correct++;
                    stats.subjects[currentQuestion.subjectClass].correct++;
                    stats.currentStreak++;
                    
                    // 更新最佳连续正确记录
                    if (stats.currentStreak > stats.bestStreak) {
                        stats.bestStreak = stats.currentStreak;
                        
                        // 解锁成就
                        if (stats.bestStreak === 5) {
                            showAchievement('连续答对5题！', '你已解锁"小试牛刀"成就，继续保持！');
                        } else if (stats.bestStreak === 10) {
                            showAchievement('连续答对10题！', '你已解锁"学霸潜质"成就，太厉害了！');
                        } else if (stats.bestStreak === 20) {
                            showAchievement('连续答对20题！', '你已解锁"学神附体"成就，无人能挡！');
                        }
                    }
                    
                    // 显示庆祝效果
                    createConfetti();
                } else {
                    // 错误
                    stats.wrong++;
                    stats.currentStreak = 0;
                    
                    // 添加到错题本
                    if (!stats.wrongQuestions.includes(currentQuestion.id)) {
                        stats.wrongQuestions.push(currentQuestion.id);
                    }
                }
                
                // 解锁成就
                if (stats.total === 10) {
                    showAchievement('初窥门径', '你已完成10道题，开始熟悉题型了！');
                } else if (stats.total === 50) {
                    showAchievement('渐入佳境', '你已完成50道题，继续加油！');
                } else if (stats.total === 100) {
                    showAchievement('题库达人', '你已完成所有题目，太了不起了！');
                }
                
                if (stats.correct === 10) {
                    showAchievement('正确率10题', '你已答对10道题，继续保持！');
                } else if (stats.correct === 50) {
                    showAchievement('正确率50题', '你已答对50道题，非常出色！');
                }
                
                // 保存统计数据
                localStorage.setItem('questionStats', JSON.stringify(stats));
                savePlanData();
                
                // 更新显示
                updateStatsDisplay();
                
                // 更新进度条
                updateProgressBar();
            });
            
            // 下一题
            document.getElementById('next-btn').addEventListener('click', function() {
                showNewQuestion();
            });
            
            // 显示成就
            function showAchievement(title, description) {
                const achievement = document.getElementById('achievement');
                document.getElementById('achievement-title').textContent = title;
                document.getElementById('achievement-desc').textContent = description;
                
                achievement.classList.remove('hidden');
                
                // 3秒后隐藏
                setTimeout(() => {
                    achievement.classList.add('hidden');
                }, 3000);
            }
            
            // 创建庆祝彩屑
            function createConfetti() {
                const colors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899'];
                const container = document.body;
                
                for (let i = 0; i < 100; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.left = `${Math.random() * 100}vw`;
                    confetti.style.width = `${Math.random() * 10 + 5}px`;
                    confetti.style.height = `${Math.random() * 10 + 5}px`;
                    confetti.style.animationDuration = `${Math.random() * 3 + 2}s`;
                    confetti.style.animationDelay = `${Math.random() * 2}s`;
                    
                    container.appendChild(confetti);
                    
                    // 动画结束后移除
                    setTimeout(() => {
                        confetti.remove();
                    }, 5000);
                }
            }
            
            // 更新进度条
            function updateProgressBar() {
                const progressBar = document.getElementById('progress-bar');
                progressBar.style.width = '100%';
                
                setTimeout(() => {
                    progressBar.style.width = '0%';
                }, 500);
            }
            
            // 科目筛选
            document.querySelectorAll('.subject-filter').forEach(button => {
                button.addEventListener('click', function() {
                    // 更新按钮样式
                    document.querySelectorAll('.subject-filter').forEach(btn => {
                        btn.classList.remove('active', 'bg-primary', 'text-white');
                        btn.classList.add('bg-gray-100', 'dark:bg-gray-700', 'hover:bg-gray-200', 'dark:hover:bg-gray-600');
                    });
                    
                    this.classList.add('active', 'bg-primary', 'text-white');
                    this.classList.remove('bg-gray-100', 'dark:bg-gray-700', 'hover:bg-gray-200', 'dark:hover:bg-gray-600');
                    
                    // 筛选题目
                    currentSubjectFilter = this.dataset.subject;
                    
                    if (currentSubjectFilter === 'all') {
                        filteredQuestions = [...questionBank];
                    } else {
                        filteredQuestions = questionBank.filter(q => q.subjectClass === currentSubjectFilter);
                    }
                    
                    // 显示新题目
                    showNewQuestion();
                });
            });
            
            // 统计弹窗
            document.getElementById('stats-btn').addEventListener('click', function() {
                document.getElementById('stats-modal').classList.remove('hidden');
                document.getElementById('stats-modal').classList.add('flex');
            });
            
            document.getElementById('close-stats').addEventListener('click', function() {
                document.getElementById('stats-modal').classList.add('hidden');
                document.getElementById('stats-modal').classList.remove('flex');
            });
            
            // 重置统计数据
            document.getElementById('reset-stats').addEventListener('click', function() {
                if (confirm('确定要重置所有统计数据吗？此操作不可恢复。')) {
                    stats = {
                        total: 0,
                        correct: 0,
                        wrong: 0,
                        currentStreak: 0,
                        bestStreak: 0,
                        subjects: {
                            physics: { total: 0, correct: 0 },
                            chemistry: { total: 0, correct: 0 },
                            biology: { total: 0, correct: 0 },
                            math: { total: 0, correct: 0 },
                            english: { total: 0, correct: 0 },
                            chinese: { total: 0, correct: 0 },
                            history: { total: 0, correct: 0 },
                            geography: { total: 0, correct: 0 },
                            politics: { total: 0, correct: 0 }
                        },
                        answeredQuestions: [],
                        wrongQuestions: []
                    };
                    
                    localStorage.setItem('questionStats', JSON.stringify(stats));
                    updateStatsDisplay();
                    
                    // 隐藏弹窗
                    document.getElementById('stats-modal').classList.add('hidden');
                    document.getElementById('stats-modal').classList.remove('flex');
                }
            });
            
            // 错题本弹窗
            document.getElementById('wrong-btn').addEventListener('click', function() {
                renderWrongQuestions();
                document.getElementById('wrong-modal').classList.remove('hidden');
                document.getElementById('wrong-modal').classList.add('flex');
            });
            
            document.getElementById('close-wrong').addEventListener('click', function() {
                document.getElementById('wrong-modal').classList.add('hidden');
                document.getElementById('wrong-modal').classList.remove('flex');
            });
            
            // 清空错题本
            document.getElementById('clear-wrong').addEventListener('click', function() {
                if (confirm('确定要清空错题本吗？此操作不可恢复。')) {
                    stats.wrongQuestions = [];
                    localStorage.setItem('questionStats', JSON.stringify(stats));
                    renderWrongQuestions();
                    updateStatsDisplay();
                }
            });
            
            // 渲染错题
            function renderWrongQuestions() {
                const container = document.getElementById('wrong-questions-container');
                const noWrongMessage = document.getElementById('no-wrong-message');
                
                if (stats.wrongQuestions.length === 0) {
                    container.innerHTML = '';
                    noWrongMessage.classList.remove('hidden');
                    return;
                }
                
                noWrongMessage.classList.add('hidden');
                container.innerHTML = '';
                
                // 获取错题详情
                const wrongQuestions = questionBank.filter(q => 
                    stats.wrongQuestions.includes(q.id)
                );
                
                // 按科目分组
                const groupedQuestions = {};
                wrongQuestions.forEach(q => {
                    if (!groupedQuestions[q.subjectClass]) {
                        groupedQuestions[q.subjectClass] = [];
                    }
                    groupedQuestions[q.subjectClass].push(q);
                });
                
                // 生成错题列表
                for (const [subjectClass, questions] of Object.entries(groupedQuestions)) {
                    const subjectName = questions[0].subject;
                    
                    const subjectSection = document.createElement('div');
                    subjectSection.className = 'mb-6';
                    subjectSection.innerHTML = `
                        <h4 class="font-medium mb-3 flex items-center">
                            <span class="w-2 h-2 rounded-full bg-${subjectClass} mr-2"></span>
                            ${subjectName} (${questions.length})
                        </h4>
                        <div class="space-y-3">
                            ${questions.map(q => `
                                <div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                                    <div class="text-sm mb-2">${q.question}</div>
                                    <div class="text-xs text-gray-500 dark:text-gray-400 mb-1">正确答案：<span class="text-secondary font-medium">${q.answer}</span></div>
                                    <button class="text-primary text-xs hover:underline review-question" data-id="${q.id}">查看详情</button>
                                </div>
                            `).join('')}
                        </div>
                    `;
                    
                    container.appendChild(subjectSection);
                }
                
                // 添加查看详情事件
                document.querySelectorAll('.review-question').forEach(button => {
                    button.addEventListener('click', function() {
                        const questionId = parseInt(this.dataset.id);
                        const question = questionBank.find(q => q.id === questionId);
                        
                        if (question) {
                            // 显示该题目
                            currentQuestion = question;
                            selectedOption = null;
                            
                            // 更新题目显示
                            document.getElementById('question-subject').textContent = currentQuestion.subject;
                            document.getElementById('question-subject').className = `subject-badge bg-${currentQuestion.subjectClass}/10 text-${currentQuestion.subjectClass} mr-2`;
                            document.getElementById('question-text').textContent = currentQuestion.question;
                            document.getElementById('question-id').textContent = `题ID: ${currentQuestion.id}`;
                            
                            // 设置装饰元素颜色
                            document.getElementById('question-decoration').className = `absolute -right-10 -top-10 w-20 h-20 rounded-full opacity-10 bg-${currentQuestion.subjectClass}`;
                            
                            // 生成选项
                            const optionsContainer = document.getElementById('options-container');
                            optionsContainer.innerHTML = '';
                            
                            for (const [key, value] of Object.entries(currentQuestion.options)) {
                                const optionElement = document.createElement('div');
                                optionElement.className = 'option-item';
                                optionElement.dataset.option = key;
                                optionElement.innerHTML = `<span class="font-medium mr-2">${key}.</span> ${value}`;
                                
                                // 标记正确选项
                                if (key === currentQuestion.answer) {
                                    optionElement.classList.add('option-correct');
                                }
                                
                                optionElement.style.pointerEvents = 'none';
                                optionsContainer.appendChild(optionElement);
                            }
                            
                            // 显示解析
                            document.getElementById('correct-answer').textContent = currentQuestion.answer;
                            document.getElementById('explanation-text').textContent = currentQuestion.explanation;
                            document.getElementById('explanation-container').classList.remove('hidden');
                            
                            // 切换按钮
                            document.getElementById('submit-btn').classList.add('hidden');
                            document.getElementById('next-btn').classList.remove('hidden');
                            
                            // 关闭错题本弹窗
                            document.getElementById('wrong-modal').classList.add('hidden');
                            document.getElementById('wrong-modal').classList.remove('flex');
                            
                            // 滚动到题目
                            document.getElementById('question-container').scrollIntoView({ behavior: 'smooth' });
                        }
                    });
                });
            }
            
            // 加入错题本
            document.getElementById('add-to-wrong').addEventListener('click', function() {
                if (currentQuestion && !stats.wrongQuestions.includes(currentQuestion.id)) {
                    stats.wrongQuestions.push(currentQuestion.id);
                    stats.wrong++;
                    localStorage.setItem('questionStats', JSON.stringify(stats));
                    updateStatsDisplay();
                    
                    // 显示提示
                    this.innerHTML = '<i class="fa fa-check mr-1"></i> 已加入错题本';
                    this.classList.add('text-secondary');
                    this.classList.remove('text-danger');
                    
                    setTimeout(() => {
                        this.innerHTML = '<i class="fa fa-exclamation-circle mr-1"></i> 加入错题本';
                        this.classList.remove('text-secondary');
                        this.classList.add('text-danger');
                    }, 2000);
                }
            });
            
            // 学习计划弹窗
            document.getElementById('plan-btn').addEventListener('click', function() {
                document.getElementById('daily-goal').value = planData.dailyGoal;
                document.getElementById('plan-modal').classList.remove('hidden');
                document.getElementById('plan-modal').classList.add('flex');
            });
            
            document.getElementById('close-plan').addEventListener('click', function() {
                document.getElementById('plan-modal').classList.add('hidden');
                document.getElementById('plan-modal').classList.remove('flex');
            });
            
            // 调整每日目标
            document.getElementById('decrease-goal').addEventListener('click', function() {
                const goalInput = document.getElementById('daily-goal');
                let goal = parseInt(goalInput.value);
                if (goal > 1) {
                    goalInput.value = goal - 1;
                }
            });
            
            document.getElementById('increase-goal').addEventListener('click', function() {
                const goalInput = document.getElementById('daily-goal');
                let goal = parseInt(goalInput.value);
                if (goal < 100) {
                    goalInput.value = goal + 1;
                }
            });
            
            // 保存学习计划
            document.getElementById('save-plan').addEventListener('click', function() {
                const newGoal = parseInt(document.getElementById('daily-goal').value);
                if (newGoal >= 1 && newGoal <= 100) {
                    planData.dailyGoal = newGoal;
                    savePlanData();
                    updateStatsDisplay();
                    
                    // 显示保存成功提示
                    this.textContent = '保存成功！';
                    this.classList.add('bg-secondary');
                    
                    setTimeout(() => {
                        this.textContent = '保存计划';
                        this.classList.remove('bg-secondary');
                        document.getElementById('plan-modal').classList.add('hidden');
                        document.getElementById('plan-modal').classList.remove('flex');
                    }, 1000);
                }
            });
            
            // 关闭目标提醒
            document.getElementById('close-reminder').addEventListener('click', function() {
                document.getElementById('goal-reminder').classList.add('hidden');
            });
            
            // 初始化
            updateStatsDisplay();
            showNewQuestion();
            
            // 检查是否有未完成的计划
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            const yesterdayStr = yesterday.toISOString().split('T')[0];
            
            if (planData.progress[yesterdayStr] && planData.progress[yesterdayStr] < planData.dailyGoal) {
                document.getElementById('plan-badge').classList.remove('hidden');
            }
        });
    </script>
</body>
</html>