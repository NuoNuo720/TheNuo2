<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome</title>
  <!-- 预加载仅在确认文件存在时启用，否则注释 -->
  <!-- <link rel="preload" href="indexlo.html" as="document"> -->
  
  <style>
    :root {
      --primary-color: #00004d;
      --secondary-color: purple;
      --accent-color: yellow;
      --hover-color: blue;
      --bg-color: #f5f5f5;
      --transition-speed: 0.3s;
      --btn-padding: 15px 40px;
      --btn-font-size: 24px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body, html {
      width: 100%;
      height: 100%;
      overflow: hidden;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }

    /* 页面加载动画 */
    .page-loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: white;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease-out;
    }
    
    .loader-spinner {
      width: 50px;
      height: 50px;
      border: 5px solid var(--bg-color);
      border-top: 5px solid var(--primary-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* 封面容器样式 */
    .cover-container {
      width: 100%;
      height: 100vh;
      background: var(--bg-color);
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      opacity: 0;
      transition: opacity 1s ease-in;
      flex-direction: column; /* 修复标题和按钮重叠问题 */
    }
    
    /* 背景图懒加载样式 */
    .cover-container.has-background {
      background: var(--bg-color) url('333.jpg') no-repeat center center;
      background-size: cover;
    }

    /* 按钮样式 */
    .enter-btn {
      padding: var(--btn-padding);
      font-size: var(--btn-font-size);
      color: var(--primary-color);
      background: transparent;
      border: 2px solid var(--primary-color);
      border-radius: 8px;
      cursor: pointer;
      position: relative;
      z-index: 3;
      transition: all var(--transition-speed) ease;
      overflow: hidden;
      font-weight: 500;
      margin-top: 20px; /* 增加按钮和标题间距 */
    }
    
    /* 按钮波纹效果 */
    .enter-btn::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(0, 0, 68, 0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
    }
    
    .enter-btn:active::after {
      width: 300px;
      height: 300px;
      opacity: 0;
    }

    .enter-btn:hover {
      transform: scale(1.05);
      background-color: rgba(0, 0, 68, 0.1);
    }
    
    .enter-btn:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
    }
    
    .enter-btn:focus {
      outline: 3px solid rgba(0, 0, 68, 0.3);
      outline-offset: 2px;
    }

    /* 菜单样式 */
    .menu {
      position: absolute;
      top: 70px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 2;
      list-style: none;
      padding: 20px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 8px;
    }

    .menu li {
      color: var(--accent-color);
      font-size: 16px;
      margin-bottom: 15px;
      cursor: pointer;
      transition: color var(--transition-speed) ease;
      padding: 5px 10px;
      border-radius: 4px;
    }
    
    .menu li:last-child {
      margin-bottom: 0;
    }
    
    .menu li:focus {
      outline: 2px solid var(--accent-color);
      outline-offset: 2px;
    }

    /* 动态标题样式 */
    h1 {
      position: relative;
      color: rgba(0, 0, 0, 0.3);
      font-size: 60px;
      margin-bottom: 40px;
      font-weight: 300;
    }

    h1::before {
      content: attr(data-text);
      position: absolute;
      overflow: hidden;
      max-width: 0;
      white-space: nowrap;
      color: var(--secondary-color);
      animation: loading 3s forwards;
      animation-delay: 0.5s;
    }

    @keyframes loading {
      0% { max-width: 0; }
      100% { max-width: 100%; }
    }

    /* 菜单hover效果 */
    .menu li:hover {
      color: var(--hover-color);
      background: rgba(255, 255, 255, 0.1);
    }

    .menu li:hover:first-child::after {
      content: "半猫诺丷";
      margin-left: 20px;
    }

    .menu li:hover:nth-child(2)::after {
      content: "2025/8/1 at 5:30 P.M.";
      margin-left: 20px;
    }

    .menu li:hover:nth-child(3)::after {
      content: "你干嘛~诶哟~";
      margin-left: 20px;
    }

    .menu li:hover:nth-child(4)::after {
      content: "正在开发中...";
      margin-left: 20px;
    }

    /* 错误提示样式 */
    .error-toast {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      padding: 12px 24px;
      background: #ff4444;
      color: white;
      border-radius: 8px;
      z-index: 9999;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .error-toast.show {
      opacity: 1;
    }

    /* 响应式设计 - 多断点适配 */
    @media (max-width: 1024px) {
      h1 {
        font-size: 50px;
      }
    }
    
    @media (max-width: 768px) {
      :root {
        --btn-padding: 12px 30px;
        --btn-font-size: 18px;
      }
      
      h1 {
        font-size: 36px;
      }
      
      .menu {
        top: 30px;
        padding: 15px;
      }
      
      .menu li {
        font-size: 14px;
        margin-bottom: 10px;
      }
    }
    
    @media (max-width: 480px) {
      h1 {
        font-size: 28px;
        margin-bottom: 20px;
      }
      
      .menu {
        width: 90%;
        text-align: center;
      }
      
      .menu li:hover::after {
        display: block;
        margin-left: 0;
        margin-top: 5px;
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <!-- 页面加载动画 -->
  <div class="page-loader" role="status">
    <div class="loader-spinner" aria-label="页面加载中"></div>
  </div>

  <!-- 封面容器 -->
  <div class="cover-container" role="main">
    <!-- 顶部交互菜单 -->
    <ul class="menu" role="navigation" aria-label="网站导航">
      <li tabindex="0" role="menuitem" aria-label="查看开发者信息">开发者</li>
      <li tabindex="0" role="menuitem" aria-label="查看首次发布时间" class="second">首次发布时间</li>
      <li tabindex="0" role="menuitem" aria-label="查看篮球相关内容">篮球</li>
      <li tabindex="0" role="menuitem" aria-label="查看更多内容">更多</li>
    </ul>

    <!-- 动态加载标题 -->
    <h1 data-text="Loading..." aria-label="加载中">Loading...</h1>

    <!-- 进入按钮 -->
    <button class="enter-btn" onclick="goToWebsite()" aria-label="进入网站">
      [Come Here]
    </button>
  </div>

  <!-- 错误提示组件 -->
  <div class="error-toast" id="errorToast">加载失败，请检查文件是否存在！</div>

  <script>
    // 全局错误提示函数
    function showErrorToast(message = "操作失败！") {
      const toast = document.getElementById('errorToast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    // 页面加载完成后执行
    document.addEventListener('DOMContentLoaded', function() {
      // 移除加载动画
      setTimeout(() => {
        const loader = document.querySelector('.page-loader');
        loader.style.opacity = '0';
        
        setTimeout(() => {
          loader.style.display = 'none';
          document.querySelector('.cover-container').style.opacity = '1';
        }, 500);
      }, 800);
      
      // 背景图懒加载（增加失败处理）
      lazyLoadBackground();
      
      // 为菜单项添加键盘支持
      initMenuKeyboardSupport();

      // 提前校验跳转目标是否存在
      checkTargetFileExists('indexlo.html');
    });
    
    // 背景图懒加载函数（增加失败兜底）
    function lazyLoadBackground() {
      const container = document.querySelector('.cover-container');
      const img = new Image();
      img.src = '333.jpg';
      
      img.onload = function() {
        container.classList.add('has-background');
      };
      
      img.onerror = function() {
        console.warn('背景图333.jpg加载失败，使用默认背景');
        // 可选：显示提示
        // showErrorToast('背景图加载失败');
      };
    }
    
    // 菜单键盘支持（完善交互）
    function initMenuKeyboardSupport() {
      const menuItems = document.querySelectorAll('.menu li');
      
      menuItems.forEach((item, index) => {
        item.addEventListener('keydown', function(e) {
          // 回车键/空格键触发hover效果
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            // 模拟hover样式
            this.style.color = var(--hover-color);
            this.style.background = 'rgba(255, 255, 255, 0.1)';
            // 显示hover提示文本
            const tips = ["半猫诺丷", "2025/8/1 at 5:30 P.M.", "你干嘛~诶哟~", "正在开发中..."];
            showErrorToast(`【${this.textContent}】：${tips[index]}`);
            // 恢复样式
            setTimeout(() => {
              this.style.color = '';
              this.style.background = '';
            }, 2000);
          }
          // 方向键切换焦点
          if (e.key === 'ArrowDown') {
            e.preventDefault();
            const nextIndex = (index + 1) % menuItems.length;
            menuItems[nextIndex].focus();
          }
          if (e.key === 'ArrowUp') {
            e.preventDefault();
            const prevIndex = (index - 1 + menuItems.length) % menuItems.length;
            menuItems[prevIndex].focus();
          }
        });
      });
    }

    // 校验文件是否存在
    function checkTargetFileExists(filePath) {
      fetch(filePath, { method: 'HEAD' })
        .then(response => {
          if (!response.ok) {
            throw new Error(`文件${filePath}不存在`);
          }
        })
        .catch(error => {
          console.warn(error.message);
          showErrorToast(`检测到${filePath}不存在，请检查文件！`);
          // 禁用按钮并提示
          const btn = document.querySelector('.enter-btn');
          btn.disabled = true;
          btn.textContent = "文件缺失，请检查";
        });
    }

    // 跳转函数（增加错误处理）
    function goToWebsite() {
      const btn = document.querySelector('.enter-btn');
      if (btn.disabled) return;
      
      btn.textContent = "Jumping...";
      btn.disabled = true;
      
      const container = document.querySelector('.cover-container');
      container.style.opacity = '0';
      
      // 跳转前再次校验
      fetch('indexlo.html', { method: 'HEAD' })
        .then(response => {
          if (response.ok) {
            setTimeout(() => {
              window.location.href = "indexlo.html"; 
            }, 500);
          } else {
            throw new Error('目标页面不存在');
          }
        })
        .catch(error => {
          console.error(error);
          // 恢复页面状态
          container.style.opacity = '1';
          btn.textContent = "[Come Here]";
          btn.disabled = false;
          showErrorToast('跳转失败：indexlo.html不存在！');
        });
    }
  </script>
</body>
</html>