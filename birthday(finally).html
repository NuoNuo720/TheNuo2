<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>老班生日快乐 - 拆礼物互动</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        giftRed: '#E53E3E',
                        giftBlue: '#3182CE',
                        giftGreen: '#38A169',
                        giftYellow: '#ECC94B',
                        giftPurple: '#805AD5',
                        giftPink: '#ED64A6',
                        giftOrange: '#ED8936',
                        cakeBody: '#D2691E',
                        cakeCream: '#FFFACD',
                        cakeChoc: '#8B4513',
                        cakeFruit: '#FF6347'
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .gift-ribbon {
                position: relative;
            }
            .gift-ribbon::before {
                content: '';
                position: absolute;
                top: 0;
                left: 50%;
                transform: translateX(-50%);
                width: 20%;
                height: 100%;
                background-color: rgba(255, 255, 255, 0.8);
            }
            .gift-ribbon::after {
                content: '';
                position: absolute;
                top: 50%;
                left: 0;
                transform: translateY(-50%);
                width: 100%;
                height: 20%;
                background-color: rgba(255, 255, 255, 0.8);
            }
            .cake-layer {
                border-radius: 15px 15px 0 0;
            }
            .slice-1 { clip-path: polygon(50% 0, 100% 0, 100% 100%, 50% 100%); }
            .slice-2 { clip-path: polygon(50% 0, 100% 0, 50% 100%, 0 100%); }
            .slice-3 { clip-path: polygon(50% 0, 0 0, 0 100%, 50% 100%); }
            .slice-4 { clip-path: polygon(50% 0, 0 0, 50% 100%, 100% 100%); }
            .animate-float { animation: float 6s ease-in-out infinite; }
            .animate-scale { animation: scale 0.5s ease-out; }
            .animate-unwrap { animation: unwrap 1s ease-out forwards; }
            .blessing-item { opacity: 0; transform: translateY(20px); transition: all 0.6s ease-out; }
            .blessing-visible { opacity: 1; transform: translateY(0); }
            .candle-flame { animation: flicker 0.5s infinite alternate; }
            .gift-opened { transform: scale(0.95); opacity: 0.8; }
        }

        @keyframes gift-float {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
            100% { transform: translateY(0) rotate(0deg); }
        }
        @keyframes balloon-rise {
            0% { 
                transform: translateY(100vh) rotate(0deg); 
                opacity: 0; 
            }
        10% { 
                opacity: 1; /* 快速显现 */
            }
            90% {
                opacity: 1; /* 保持可见直到接近顶部 */
            }
            100% { 
                transform: translateY(-2000px) rotate(15deg); /* 更高的终点位置 */
                opacity: 0; 
            }
        }
        @keyframes scale {
            0% { transform: scale(0); }
            70% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        @keyframes flicker {
            0% { transform: scale(0.9) rotate(-5deg); opacity: 0.9; }
            100% { transform: scale(1.1) rotate(5deg); opacity: 1; }
        }

        @keyframes unwrap {
            0% { transform: scale(1); }
            50% { transform: scale(1.1) rotate(5deg); }
            100% { transform: scale(1) rotate(0); }
        }

        @keyframes pop {
            0% { transform: scale(0); opacity: 1; }
            50% { transform: scale(1); opacity: 1; }
            100% { transform: scale(1.2); opacity: 0; }
        }
    </style>
</head>
<body class="bg-gradient-to-b from-blue-50 to-purple-100 min-h-screen flex flex-col items-center p-4">
    <!-- 页面标题 -->
    <header class="text-center mt-6 z-30">
        <h1 class="text-[clamp(1.5rem,5vw,2.5rem)] font-bold text-purple-800">祝马姐生日快乐！</h1>
        <p class="text-purple-600 mt-2">点击礼物盒，拆开解锁惊喜祝福</p>
    </header>
    <div class="text-center mt-4 z-30">
        <button id="init-music" class="bg-purple-100 text-purple-800 px-4 py-2 rounded-full text-sm">
        <i class="fa fa-music mr-1"></i>点击开启祝福音乐
        </button>
    </div>
    <!-- 祝福提示区（固定在顶部，不遮挡） -->
    <div id="blessing-area" class="fixed top-20 left-0 w-full z-40 flex justify-center pointer-events-none">
        <div id="blessing-1" class="blessing-item bg-yellow-100 text-yellow-800 px-6 py-3 rounded-full shadow-lg max-w-xs text-center">
            第一份惊喜：至诚、至敬、至刚，让光进来。
        </div>
        <div id="blessing-2" class="blessing-item bg-green-100 text-green-800 px-6 py-3 rounded-full shadow-lg max-w-xs text-center">
            第二份惊喜：愿您笑容常在！祝您健康平安！
        </div>
        <div id="blessing-3" class="blessing-item bg-blue-100 text-blue-800 px-6 py-3 rounded-full shadow-lg max-w-xs text-center">
            第三份惊喜：工作顺利，事事如意！感谢您的辛勤付出！
        </div>
        <div id="blessing-4" class="blessing-item bg-purple-100 text-purple-800 px-6 py-3 rounded-full shadow-lg max-w-xs text-center">
            第四份惊喜：[年度MVP颁奖现场]感谢『清水()』全年在线的‘教学直播’，超额完成‘答疑加时赛’，用耐心修复我们的‘BUG’，用鼓励激活我们的‘隐藏技能’。今天，您是绝对的C位！
        </div>
        <div id="blessing-5" class="blessing-item bg-pink-100 text-pink-800 px-6 py-3 rounded-full shadow-lg max-w-xs text-center">
            第五份惊喜：愿您桃李满天下，每天都有好心情！(我们来召唤更多气球吧!!!)
        </div>
        <div id="blessing-6" class="blessing-item bg-red-100 text-red-800 px-6 py-3 rounded-full shadow-lg max-w-xs text-center">
            第六份惊喜：老登战力值拉满！大清早的叫醒服务，晚自习的续航Buff。论讲解[输出]堪比百科全书，论关怀[辅助]覆盖每个细节，论救援[抗压]家长群+学生群双重暴击轻松拿下，手法带飞高一(1)班！”
        </div>
        <div id="blessing-7" class="blessing-item bg-orange-100 text-orange-800 px-6 py-3 rounded-full shadow-lg max-w-xs text-center">
            终极祝福：生日快乐，我们永远爱您！
        </div>
    </div>

    <!-- 气球容器 -->
    <div id="balloons" class="fixed inset-0 pointer-events-none z-10"></div>

    <!-- 礼物盒容器 -->
    <div class="relative w-full max-w-4xl my-8 z-20">
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6 justify-items-center">
            <!-- 礼物盒1 -->
            <div class="gift-box w-24 h-24 sm:w-32 sm:h-32 bg-giftRed rounded-lg shadow-lg cursor-pointer gift-ribbon animate-[gift-float_6s_ease-in-out_infinite]" 
                 style="animation-delay: 0s" data-gift="1">
                <span class="absolute inset-0 flex items-center justify-center text-white font-bold text-xl">1</span>
            </div>
            
            <!-- 礼物盒2 -->
            <div class="gift-box w-24 h-24 sm:w-32 sm:h-32 bg-giftBlue rounded-lg shadow-lg cursor-pointer gift-ribbon animate-[gift-float_6s_ease-in-out_infinite]" 
                 style="animation-delay: 0.5s" data-gift="2">
                <span class="absolute inset-0 flex items-center justify-center text-white font-bold text-xl">2</span>
            </div>
            
            <!-- 礼物盒3 -->
            <div class="gift-box w-24 h-24 sm:w-32 sm:h-32 bg-giftGreen rounded-lg shadow-lg cursor-pointer gift-ribbon animate-[gift-float_6s_ease-in-out_infinite]" 
                 style="animation-delay: 1s" data-gift="3">
                <span class="absolute inset-0 flex items-center justify-center text-white font-bold text-xl">3</span>
            </div>
            
            <!-- 礼物盒4 -->
            <div class="gift-box w-24 h-24 sm:w-32 sm:h-32 bg-giftYellow rounded-lg shadow-lg cursor-pointer gift-ribbon animate-[gift-float_6s_ease-in-out_infinite]" 
                 style="animation-delay: 1.5s" data-gift="4">
                <span class="absolute inset-0 flex items-center justify-center text-white font-bold text-xl">4</span>
            </div>
            
            <!-- 礼物盒5 -->
            <div class="gift-box w-24 h-24 sm:w-32 sm:h-32 bg-giftPurple rounded-lg shadow-lg cursor-pointer gift-ribbon animate-[gift-float_6s_ease-in-out_infinite]" 
                 style="animation-delay: 2s" data-gift="5">
                <span class="absolute inset-0 flex items-center justify-center text-white font-bold text-xl">5</span>
            </div>
            
            <!-- 礼物盒6 -->
            <div class="gift-box w-24 h-24 sm:w-32 sm:h-32 bg-giftPink rounded-lg shadow-lg cursor-pointer gift-ribbon animate-[gift-float_6s_ease-in-out_infinite]" 
                 style="animation-delay: 2.5s" data-gift="6">
                <span class="absolute inset-0 flex items-center justify-center text-white font-bold text-xl">6</span>
            </div>
            
            <!-- 礼物盒7 - 包含蛋糕 -->
            <div class="gift-box w-24 h-24 sm:w-32 sm:h-32 bg-giftOrange rounded-lg shadow-lg cursor-pointer gift-ribbon animate-[gift-float_6s_ease-in-out_infinite]" 
                 style="animation-delay: 3s" data-gift="7">
                <span class="absolute inset-0 flex items-center justify-center text-white font-bold text-xl">7</span>
                
                <!-- 蛋糕模型，默认隐藏，拆第七个礼物时显示 -->
                <div id="cake" class="hidden absolute inset-0 m-auto w-4/5 h-4/5">
                    <!-- 蛋糕底座 -->
                    <div class="absolute w-3/5 h-1/12 bg-cakeChoc rounded-t-full bottom-[15%]"></div>
                    
                    <!-- 蛋糕主体（4块切片） -->
                    <div class="relative w-full h-full">
                        <!-- 蛋糕层 -->
                        <div class="absolute w-full h-3/4 bg-cakeBody cake-layer bottom-0 border-2 border-cakeCream">
                            <!-- 奶油花纹 -->
                            <div class="absolute top-1/4 left-1/4 w-2 h-6 bg-cakeCream rounded-full"></div>
                            <div class="absolute top-1/3 left-1/2 w-2 h-8 bg-cakeCream rounded-full"></div>
                            <div class="absolute top-1/4 right-1/4 w-2 h-6 bg-cakeCream rounded-full"></div>
                        </div>
                        <div class="absolute w-4/5 h-1/4 bg-cakeCream cake-layer top-1/4 left-1/2 transform -translate-x-1/2"></div>
                        
                        <!-- 水果装饰 -->
                        <div class="absolute top-1/3 left-1/5 w-4 h-4 bg-cakeFruit rounded-full"></div>
                        <div class="absolute top-1/3 right-1/5 w-4 h-4 bg-purple-500 rounded-full"></div>
                        <div class="absolute top-1/4 left-1/2 transform -translate-x-1/2 w-5 h-5 bg-yellow-400 rounded-full"></div>
                        
                        <!-- 蜡烛 -->
                        <div class="absolute top-[-20%] left-1/2 transform -translate-x-1/2 w-3 h-10 bg-white border border-gray-300 rounded-md">
                            <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 -translate-y-1 w-4 h-4 bg-orange-500 rounded-full candle-flame"></div>
                        </div>
                        
                        <!-- 可切割的切片（覆盖在蛋糕上） -->
                        <div class="slice-1 absolute inset-0 bg-cakeBody/90 border-r-2 border-cakeCream" data-slice="1"></div>
                        <div class="slice-2 absolute inset-0 bg-cakeBody/90 border-r-2 border-cakeCream" data-slice="2"></div>
                        <div class="slice-3 absolute inset-0 bg-cakeBody/90 border-l-2 border-cakeCream" data-slice="3"></div>
                        <div class="slice-4 absolute inset-0 bg-cakeBody/90 border-l-2 border-cakeCream" data-slice="4"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 操作按钮 -->
    <div class="flex flex-col sm:flex-row gap-4 mt-4 z-30">
        <button id="open-btn" class="bg-gradient-to-r from-pink-500 to-purple-500 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300">
            <i class="fa fa-gift mr-2"></i>拆开选中礼物
        </button>
        <button id="cut-cake-btn" class="hidden bg-gradient-to-r from-orange-500 to-red-500 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300">
            <i class="fa fa-scissors mr-2"></i>切蛋糕
        </button>
    </div>

    <!-- 音乐控制 -->
    <div id="music-control" class="hidden mt-6 flex items-center space-x-3 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-md z-30">
        <i class="fa fa-music text-purple-600"></i>
        <span class="text-sm text-gray-600">生日祝福音乐</span>
        <button id="music-toggle" class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 hover:bg-purple-600 hover:text-white transition-colors">
            <i class="fa fa-pause"></i>
        </button>
    </div>

    <!-- 底部信息 -->
    <footer class="mt-auto mb-4 text-center text-purple-500 text-sm z-30">
        <p>—— 一只半猫诺丷敬上 ——</p>
    </footer>

    <!-- 音效和音乐元素 -->
    <audio id="open-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-unboxing-a-gift-1696.mp3" type="audio/mpeg">
    </audio>
    <audio id="balloon-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-toy-whistler-sound-1819.mp3" type="audio/mpeg">
    </audio>
    <audio id="celebration-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-success-bell-600.mp3" type="audio/mpeg">
    </audio>
    <audio id="cut-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-cutlery-chopping-wood-2792.mp3" type="audio/mpeg">
    </audio>
    <audio id="birthday-music" loop preload="auto">
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
    </audio>

    <script>
        document.body.addEventListener('click', initAudio, { once: true });
        function initAudio() {
            // 预加载所有音频
            [openSound, balloonSound, celebrationSound, cutSound, birthdayMusic].forEach(audio => {
                audio.load();
            });
        }







        // 初始化变量
        let giftsOpened = 0;
        const totalGifts = 7;
        let selectedGift = null;
        let slicesCut = 0;
        const totalSlices = 4;
        
        // 获取DOM元素
        const openBtn = document.getElementById('open-btn');
        const cutCakeBtn = document.getElementById('cut-cake-btn');
        const giftBoxes = document.querySelectorAll('.gift-box');
        const cake = document.getElementById('cake');
        const cakeSlices = document.querySelectorAll('[data-slice]');
        const musicToggle = document.getElementById('music-toggle');
        const birthdayMusic = document.getElementById('birthday-music');
        const openSound = document.getElementById('open-sound');
        const cutSound = document.getElementById('cut-sound');
        const balloonSound = document.getElementById('balloon-sound');
        const celebrationSound = document.getElementById('celebration-sound');
        
        // 隐藏所有祝福
        document.querySelectorAll('.blessing-item').forEach(item => {
            item.style.display = 'none';
        });
        const musicControl = document.getElementById('music-control');
        // 音乐控制
        musicToggle.addEventListener('click', () => {
            const icon = musicToggle.querySelector('i');
            if (birthdayMusic.paused) {
                
                birthdayMusic.play();
                icon.classList.remove('fa-play');
                icon.classList.add('fa-pause');
            } else {
                birthdayMusic.pause();
                icon.classList.remove('fa-pause');
                icon.classList.add('fa-play');
            }
        });
        
        // 礼物选择功能
        giftBoxes.forEach(box => {
            box.addEventListener('click', () => {
                // 如果礼物已打开，不能再选择
                if (box.classList.contains('gift-opened')) return;
                // 移除其他礼物的选中状态
                giftBoxes.forEach(b => b.classList.remove('ring-4', 'ring-yellow-400'));
                
                // 添加当前礼物的选中状态
                box.classList.add('ring-4', 'ring-yellow-400');
                selectedGift = box;
            });
        });
        
        // 打开礼物功能
        openBtn.addEventListener('click', () => {
            if (!selectedGift) {
                alert('请先选择一个礼物盒');
                return;
            }
            
            const giftNum = parseInt(selectedGift.dataset.gift);
            
            // 如果是第七个礼物，显示蛋糕
            if (giftNum === 7) {
                cake.classList.remove('hidden');
                cake.classList.add('animate-scale');
                cutCakeBtn.classList.remove('hidden');
            }
            
            // 播放打开音效
            if (openSound) {
                openSound.currentTime = 0;
                openSound.play().catch(e => console.log('播放失败:', e));
            }
            
            // 标记为已打开
            selectedGift.classList.add('gift-opened', 'animate-unwrap');
            selectedGift.classList.remove('ring-4', 'ring-yellow-400', 'animate-float');
            
            // 显示对应祝福
            showBlessing(giftNum);
            
            // 触发互动效果
            triggerInteraction(giftNum);
            
            giftsOpened++;
            selectedGift = null;
            
            // 全部打开后的处理
            if (giftsOpened === totalGifts) {
                openBtn.innerHTML = '<i class="fa fa-check mr-2"></i>所有礼物已打开';
                openBtn.classList.remove('from-pink-500', 'to-purple-500');
                openBtn.classList.add('from-green-500', 'to-teal-500');
            }
        });
        
        // 切蛋糕功能
        cutCakeBtn.addEventListener('click', () => {
            if (slicesCut < totalSlices) {
                // 播放切割音效
                cutSound.currentTime = 0;
                cutSound.play();
                
                // 处理当前切片
                const currentSlice = cakeSlices[slicesCut];
                currentSlice.style.transition = 'all 0.8s ease-out';
                
                // 不同切片不同飞出方向
                if (slicesCut % 2 === 0) {
                    currentSlice.style.transform = 'translate(-50px, -30px) rotate(-15deg)';
                } else {
                    currentSlice.style.transform = 'translate(50px, -30px) rotate(15deg)';
                }
                currentSlice.style.opacity = '0.6';
                
                slicesCut++;
                
                // 更新按钮文本
                if (slicesCut === totalSlices) {
                    cutCakeBtn.innerHTML = '<i class="fa fa-birthday-cake mr-2"></i>蛋糕已切完';
                    celebrationSound.play();
                    fullScreenCelebration();
                }
            }
        });
        
        // 触发不同互动效果
        function triggerInteraction(giftNum) {
            // 不同礼物不同互动
            switch(giftNum) {
                case 1:
                    // 第一份礼物：生成气球
                    createBalloons(5);
                    balloonSound.play();
                    break;
                case 2:
                    // 第二份礼物：自动播放音乐
                    birthdayMusic.loop=true;
                    birthdayMusic.play();
                    musicControl.classList.remove('hidden');
                    setTimeout(() => {
                        musicControl.classList.add('animate-scale');
                    }, 100);

                    break;
                case 3:
                    // 第三份礼物：显示班级祝福
                    showClassBlessing();
                    break;
                case 5:
                    // 第五份礼物：生成更多气球
                    createBalloons(8);
                    balloonSound.play();
                    break;
                case 7:
                    // 第七份礼物：特别庆祝效果
                    createBalloons(10);
                    balloonSound.play();
                    break;
            }
        }
        
        // 显示祝福
        function showBlessing(index) {
            // 隐藏所有祝福
            document.querySelectorAll('.blessing-item').forEach(item => {
                item.style.display = 'none';
                item.classList.remove('blessing-visible');
            });
            
            // 显示当前祝福
            const currentBlessing = document.getElementById(`blessing-${index}`);
            currentBlessing.style.display = 'block';
            
            // 触发动画
            setTimeout(() => {
                currentBlessing.classList.add('blessing-visible');
            }, 100);
            
            // 10秒后隐藏
            setTimeout(() => {
                currentBlessing.classList.remove('blessing-visible');
                setTimeout(() => {
                    currentBlessing.style.display = 'none';
                }, 600);
            }, 10000);
        }
        
        // 创建气球
        function createBalloons(count) {
            const balloonsContainer = document.getElementById('balloons');
            const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8', '#E91E63', '#9C27B0'];
            
            for (let i = 0; i < count; i++) {
                const balloon = document.createElement('div');
                const string = document.createElement('div');
                
                // 气球样式
                const size = Math.random() * 30 + 40;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const left = Math.random() * 80 + 10; // 10%-90%
                const delay = Math.random() * 3;
                
                balloon.style.cssText = `
                    position: absolute;
                    width: ${size}px;
                    height: ${size}px;
                    bottom: -${size}px; /* 从底部外开始 */
                    left: ${left}%;
                    background-color: ${color};
                    border-radius: 50% 50% 40% 40%;
                    animation: balloon-rise ${8 + Math.random() * 6}s linear ${delay * 0.5}s forwards; /* 缩短时间和延迟 */
                    z-index: 10;
                `;
                
                // 气球绳
                string.style.cssText = `
                    position: absolute;
                    width: 1px;
                    height: ${size * 1.5}px;
                    background-color: #ccc;
                    bottom: -${size * 1.5}px;
                    left: 50%;
                `;
                
                balloon.appendChild(string);
                balloonsContainer.appendChild(balloon);
                
                // 一段时间后移除
                setTimeout(() => {
                    balloon.remove();
                }, (10 + Math.random() * 2) * 1000); // 与动画时间匹配
            }
        }
        
        // 显示班级祝福
        function showClassBlessing() {
            const blessingBox = document.createElement('div');
            blessingBox.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-6 rounded-xl shadow-2xl z-50 max-w-md w-4/5 animate-scale';
            blessingBox.innerHTML = `<h3 class="text-xl font-bold text-purple-700 text-center mb-3">触发神秘祝福文案小彩蛋</h3>
                <p class="text-gray-700 mb-4">Dear Ms.Ma：</p>
                <p class="text-gray-600 mb-2">感谢您日复一日的陪伴与教导，在您的悉心关怀下，我不仅学到了知识，更学会了如何成长为更好的人。</p>
                <p class="text-gray-600 mb-4">愿您的生活像礼物一样充满惊喜，像蛋糕一样甜蜜！</p>
                <div class="text-right text-purple-600 font-medium">—— 一只半猫诺丷</div>
                <button id="close-blessing" class="mt-4 w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 transition-colors">
                    收下祝福
                </button>
            `;
            document.body.appendChild(blessingBox);
            
            // 关闭祝福框
            document.getElementById('close-blessing').addEventListener('click', () => {
                blessingBox.style.opacity = '0';
                blessingBox.style.transform = 'translate(-50%, -50%) scale(0.8)';
                blessingBox.style.transition = 'all 0.3s ease-out';
                setTimeout(() => blessingBox.remove(), 300);
            });
        }
        
        // 全屏庆祝效果
        function fullScreenCelebration() {
            // 创建烟花效果
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    createFirework();
                }, i * 200);
            }
            
            // 显示最终祝福
            const finalBlessing = document.createElement('div');
            finalBlessing.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center z-50 animate-scale';
            finalBlessing.innerHTML = `
                <h2 class="text-3xl md:text-5xl font-bold text-red-600 mb-4">生日快乐！</h2>
                <p class="text-xl text-purple-700">愿所有美好与您相伴！</p>
            `;
            document.body.appendChild(finalBlessing);
            
            // 5秒后隐藏
            setTimeout(() => {
                finalBlessing.style.opacity = '0';
                finalBlessing.style.transform = 'translate(-50%, -50%) scale(0.8)';
                finalBlessing.style.transition = 'all 0.5s ease-out';
                setTimeout(() => finalBlessing.remove(), 500);
            }, 5000);
        }
        
        // 创建烟花
        function createFirework() {
            const fireworksContainer = document.getElementById('balloons');
            const firework = document.createElement('div');
            
            // 随机属性
            const size = Math.random() * 80 + 50;
            const x = Math.random() * 100;
            const y = Math.random() * 60 + 20;
            const colors = ['#FF5252', '#FFD700', '#4CAF50', '#2196F3', '#E91E63', '#9C27B0'];
            const color = colors[Math.floor(Math.random() * colors.length)];
            
            firework.style.cssText = `
                position: absolute;
                width: ${size}px;
                height: ${size}px;
                left: ${x}%;
                top: ${y}%;
                border-radius: 50%;
                background: radial-gradient(circle, ${color} 0%, transparent 70%);
                transform: scale(0);
                animation: pop 1s forwards;
                z-index: 20;
            `;
            
            fireworksContainer.appendChild(firework);
            
            // 动画结束后移除
            setTimeout(() => {
                firework.remove();
            }, 1000);
        }
    </script>
</body>
</html>
