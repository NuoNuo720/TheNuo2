<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤šåŠŸèƒ½å¯¼èˆªä¸­å¿ƒ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* åŸºç¡€æ ·å¼ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        /* æ·±è‰²æ¨¡å¼åˆ‡æ¢ - å¼ºåŒ–å†¬æ—¥é…è‰² */
        :root {
            --bg-color: #f8f9fa;
            --text-color: #333;
            --card-bg: white;
            --navbar-bg: #2c3e50;
            --sidebar-bg: #fafbfc;
            --primary-color: #3498db;
            --primary-dark: #2980b9;
            --accent-color: #9b59b6;
            --danger-color: #e74c3c;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --border-color: #ddd;
            --light-bg: #f9f9f9;
            --shadow: 0 4px 15px rgba(0,0,0,0.05);
            /* å†¬æ—¥æš–é˜³ä¸»é¢˜è‰² */
            --winter-sun: #ffd166;      /* æš–é˜³é»„ */
            --winter-night: #1a365d;    /* é›ªå¤œè“ */
            --winter-snow: #ffffff;     /* é›ªèŠ±ç™½ */
            --winter-red: #e63946;      /* åœ£è¯çº¢ */
            --winter-gold: #ffb703;     /* ç¤¼ç‰©é‡‘ */
            --winter-gradient-light: linear-gradient(120deg, rgba(255,240,200,0.2), rgba(255,210,100,0.1));
            --winter-gradient-dark: linear-gradient(120deg, rgba(30,50,80,0.5), rgba(20,40,70,0.8));
        }
        
        body.dark-mode {
            --bg-color: #121a29;
            --text-color: #f0f4f8;
            --card-bg: #1e293b;
            --navbar-bg: #0f172a;
            --sidebar-bg: #1e293b;
            --border-color: #4a5568;
            --light-bg: #273449;
            --shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        /* ========== å†¬æ—¥æ ¸å¿ƒè§†è§‰ä¼˜åŒ– ========== */
        /* é›ªèŠ±/æ˜Ÿæ˜ŸåŠ¨æ•ˆå®¹å™¨ï¼ˆåˆ†å±‚åŠ¨æ•ˆï¼‰ */
        .snow-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            overflow: hidden;
        }

        /* å…¨å±€èƒŒæ™¯ - å†¬æ—¥æš–é˜³/é›ªå¤œæ¸å˜ */
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            padding: 0;
            line-height: 1.6;
            overflow: hidden;
            /* å†¬æ—¥å¤šå±‚èƒŒæ™¯ï¼šæ¸å˜+çº¹ç†+ä¸»è‰² */
            background: 
                var(--winter-gradient-light),
                url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%239C92AC' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E"),
                var(--bg-color);
        }

        body.dark-mode {
            background: 
                var(--winter-gradient-dark),
                url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%234a5568' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E"),
                var(--bg-color);
        }

        /* é¡¶éƒ¨æ ‡é¢˜æ  - å†¬æ—¥æš–å…‰è£…é¥° */
        header {
            text-align: center;
            padding: 15px 0;
            background: linear-gradient(90deg, var(--winter-night), var(--navbar-bg));
            color: white;
            box-shadow: 0 2px 20px rgba(255,210,100,0.2);
            position: relative;
            overflow: hidden;
        }

        header::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--winter-sun), var(--winter-gold), var(--winter-sun));
        }

        /* é¡µè„š - é›ªå¤œè£…é¥° */
        footer {
            text-align: center;
            padding: 10px 0;
            color: #ffd166;
            font-size: 0.8rem;
            border-top: 1px solid var(--border-color);
            background: linear-gradient(90deg, var(--navbar-bg), var(--winter-night));
            position: relative;
        }

        footer::before {
            content: 'â„ï¸ å†¬æ—¥é™å®šç‰ˆ â„ï¸';
            display: block;
            font-size: 0.7rem;
            margin-bottom: 5px;
            color: var(--winter-snow);
        }

        /* ========== å¡ç‰‡è£…é¥° - ç§¯é›ª+ç¤¼ç‰©ç›’ ========== */
        .nav-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px 15px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            user-select: none;
            -webkit-tap-highlight-color: rgba(0,0,0,0.1);
            opacity: 0;
            transform: translateY(20px);
            /* å¡ç‰‡ç§¯é›ªè¾¹æ¡† */
            border-top: 3px solid var(--winter-snow);
            /* æš–å…‰é˜´å½± */
            box-shadow: 0 4px 20px rgba(255,210,100,0.08);
        }

        /* å¡ç‰‡ç§¯é›ªæ•ˆæœ */
        .nav-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, var(--winter-snow), rgba(255,255,255,0.8));
            border-radius: 12px 12px 0 0;
            z-index: 1;
            transform: scaleX(0.9);
            transition: transform 0.3s ease;
        }

        /* å¡ç‰‡ç¤¼ç‰©ç›’è£…é¥°ï¼ˆå³ä¸‹è§’ï¼‰ */
        .nav-card::after {
            content: 'ğŸ';
            position: absolute;
            bottom: 8px;
            right: 8px;
            font-size: 18px;
            opacity: 0.3;
            transform: scale(0.8) rotate(-10deg);
            transition: all 0.3s ease;
            z-index: 1;
        }

        .nav-card:hover::after {
            opacity: 0.8;
            transform: scale(1) rotate(0deg);
        }

        .nav-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(255,210,100,0.15);
            border-color: var(--winter-gold);
        }

        .nav-card:hover::before {
            transform: scaleX(1);
        }

        /* çƒ­é—¨å¡ç‰‡ç‰¹æ®Šè£…é¥° */
        .nav-card.hot-game {
            border-color: var(--winter-red);
        }

        .nav-card.hot-game::before {
            background: linear-gradient(90deg, var(--winter-red), var(--winter-sun));
        }

        .nav-card.hot-game::after {
            content: 'ğŸ„';
            font-size: 20px;
        }

        /* å¡ç‰‡å›¾æ ‡å†¬æ—¥æ•ˆæœ */
        .card-icon {
            font-size: 40px;
            margin-bottom: 15px;
            color: var(--primary-color);
            transition: transform 0.3s ease, text-shadow 0.3s ease;
            position: relative;
            z-index: 2;
        }

        .nav-card:hover .card-icon {
            transform: scale(1.1) rotate(5deg);
            text-shadow: 0 0 15px rgba(255,210,100,0.5);
        }

        .nav-card.hot-game .card-icon {
            color: var(--winter-red);
        }

        /* ========== åŸæœ‰æ ·å¼å…¨éƒ¨ä¿ç•™ï¼ˆä»¥ä¸‹æ— ä¿®æ”¹ï¼‰ ========== */
        .theme-toggle {
            background: transparent;
            border: none;
            color: white;
            font-size: 1.2em;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .theme-toggle:hover {
            transform: rotate(30deg);
        }
        
        .title-badge {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin-left: 10px;
            white-space: nowrap;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .title-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .title-item {
            background-color: var(--light-bg);
            border: 1px solid var(--primary-color);
            border-radius: 4px;
            padding: 5px 10px;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            color: var(--text-color);
        }

        .title-item.equipped {
            background-color: rgba(52, 152, 219, 0.1);
            border-color: var(--primary-dark);
            font-weight: 500;
        }
        
        /* æ›´æ–°æç¤ºæ ·å¼ */
        .update-notice {
            text-align: center;
            padding: 10px;
            background-color: rgba(255,240,200,0.1);
            border: 1px solid var(--winter-gold);
            border-radius: 8px;
            margin: 0 auto 20px;
            max-width: 800px;
            transition: opacity 0.5s ease, transform 0.5s ease;
            backdrop-filter: blur(5px);
        }
        
        .close-update {
            cursor: pointer;
            margin-left: 10px;
            color: #999;
            transition: color 0.2s;
        }
        
        .close-update:hover {
            color: var(--danger-color);
        }

        .app-container {
            display: flex;
            height: 100vh;
            flex-direction: column;
        }

        h1 {
            color: white;
            margin-bottom: 5px;
            font-size: 1.8rem;
            display: inline-block;
            text-shadow: 0 0 10px rgba(255,210,100,0.5);
        }

        .subtitle {
            color: #ffd166;
            font-size: 0.9rem;
            max-width: 600px;
            margin: 0 auto;
            text-shadow: 0 0 5px rgba(0,0,0,0.3);
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* ä¾§è¾¹æ æ ·å¼ */
        .sidebar {
            width: 220px;
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            padding: 20px 0;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            /* ä¾§è¾¹æ å†¬æ—¥è£…é¥° */
            background: linear-gradient(180deg, var(--sidebar-bg), rgba(255,240,200,0.05));
        }

        .sidebar-section {
            margin-bottom: 25px;
            padding: 0 15px;
        }

        .sidebar-title {
            font-size: 0.9rem;
            text-transform: uppercase;
            color: #ffb703;
            margin-bottom: 12px;
            padding-left: 10px;
            letter-spacing: 1px;
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-item {
            margin-bottom: 5px;
        }

        .sidebar-link {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            border-radius: 6px;
            color: var(--text-color);
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .sidebar-link:hover {
            background-color: rgba(255,210,100,0.1);
            color: var(--winter-gold);
        }

        .sidebar-link.active {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 0 10px rgba(52,152,219,0.3);
        }

        .sidebar-link i {
            width: 20px;
            text-align: center;
        }

        /* ä¸»å†…å®¹åŒº */
        .content-area {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            /* å†…å®¹åŒºèƒŒæ™¯æ¯›ç»ç’ƒ */
            backdrop-filter: blur(5px);
        }

        .content-header {
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .content-title {
            font-size: 1.5rem;
            color: var(--text-color);
            text-shadow: 0 0 8px rgba(255,210,100,0.1);
        }

        .search-bar {
            width: 300px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 8px 15px 8px 35px;
            border: 1px solid var(--border-color);
            border-radius: 20px;
            background-color: rgba(255,255,255,0.05);
            color: var(--text-color);
            backdrop-filter: blur(5px);
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #ffb703;
        }

        /* æ¸¸æˆå¡ç‰‡ç½‘æ ¼ */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 20px;
            padding: 10px 0;
        }
        
        /* è§¦æ‘¸åé¦ˆæ•ˆæœ */
        .nav-card:active, .series-select-item:active, 
        .btn:active, .redeem-btn:active, .complete-btn:active {
            transform: scale(0.97);
            opacity: 0.9;
        }

        .card-title {
            font-size: 1.2rem;
            margin-bottom: 8px;
            color: var(--text-color);
            transition: color 0.3s ease;
            position: relative;
            z-index: 2;
        }

        .nav-card:hover .card-title {
            color: var(--winter-gold);
        }

        .nav-card.hot-game:hover .card-title {
            color: var(--winter-red);
        }

        .card-desc {
            color: #7f8c8d;
            font-size: 0.85rem;
            line-height: 1.5;
            position: relative;
            z-index: 2;
        }

        /* çƒ­é—¨æ¸¸æˆæ ‡è¯† */
        .hot-tag {
            position: absolute;
            top: -10px;
            right: -10px;
            background-color: var(--winter-red);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 2px 10px rgba(231,76,60,0.3);
            z-index: 2;
        }

        /* ç”¨æˆ·ä¿¡æ¯æ ·å¼ - ä¼˜åŒ–ç‰ˆæœ¬ */
        .user-profile {
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
            background: rgba(255,240,200,0.05);
            border-radius: 8px;
            margin: 0 10px 20px;
        }

        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--winter-gold), var(--winter-red));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
            transition: background 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(255,210,100,0.2);
        }

        .user-avatar.logged {
            background: linear-gradient(135deg, var(--primary-color), var(--winter-red));
            box-shadow: 0 0 20px rgba(52, 152, 219, 0.4);
        }

        .user-avatar:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255,210,100,0.5);
        }

        .avatar-img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            display: none;
        }

        .avatar-initial {
            font-size: 24px;
            font-weight: bold;
            color: white;
            text-shadow: 0 0 5px rgba(0,0,0,0.3);
        }

        .user-info {
            flex: 1;
        }

        .username {
            font-weight: 500;
            margin-bottom: 3px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: var(--winter-gold);
        }

        .user-status {
            font-size: 0.8rem;
            color: var(--success-color);
        }

        .logout-btn, .btn {
            background: #555;
            border: none;
            color: white;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            transition: background 0.2s, transform 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .logout-btn {
            margin-top: 10px;
            display: none;
        }

        .logout-btn:hover, .btn:hover {
            background: var(--winter-night);
            transform: translateY(-2px);
            box-shadow: 0 0 10px rgba(255,210,100,0.2);
        }

        .login-link {
            color: var(--winter-gold);
            text-decoration: none;
            transition: color 0.2s;
        }

        .login-link:hover {
            text-decoration: underline;
            color: var(--winter-sun);
        }

        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            overflow-y: auto;
            padding: 20px 0;
            backdrop-filter: blur(5px);
        }

        .modal.active {
            opacity: 1;
        }

        .modal-content {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 5px 30px rgba(255,210,100,0.2);
            position: relative;
            transform: translateY(20px);
            transition: transform 0.3s ease;
            color: var(--text-color);
            border-top: 4px solid var(--winter-gold);
        }

        .modal.active .modal-content {
            transform: translateY(0);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #ffb703;
            transition: color 0.2s, transform 0.2s;
        }

        .close-modal:hover {
            color: var(--winter-red);
            transform: rotate(90deg) scale(1.2);
        }

        .profile-title {
            text-align: center;
            margin-bottom: 25px;
            color: var(--text-color);
            font-size: 1.5rem;
            text-shadow: 0 0 8px rgba(255,210,100,0.1);
            position: relative;
        }

        .profile-title::after {
            content: '';
            display: block;
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, var(--winter-gold), var(--winter-red));
            margin: 10px auto 0;
            border-radius: 2px;
        }

        /* ç³»åˆ—é€‰æ‹©æ¨¡æ€æ¡†ç‰¹æ®Šæ ·å¼ */
        .series-select-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .series-select-item {
            padding: 15px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: var(--light-bg);
            user-select: none;
            -webkit-tap-highlight-color: rgba(0,0,0,0.1);
            border-top: 3px solid var(--winter-snow);
        }
        
        .series-select-item:hover {
            background-color: rgba(255,210,100,0.1);
            border-color: var(--winter-gold);
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(255,210,100,0.1);
        }
        
        .series-select-item .card-icon {
            font-size: 36px;
            margin-bottom: 10px;
        }
        
        .series-select-item .card-title {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        
        .series-select-item .card-desc {
            font-size: 0.85rem;
        }

        .profile-section {
            margin-bottom: 20px;
        }

        .profile-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--winter-gold);
        }

        .profile-value {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-size: 1rem;
            background-color: rgba(255,255,255,0.05);
            word-break: break-all;
            color: var(--text-color);
            backdrop-filter: blur(5px);
        }

        .avatar-upload-section {
            text-align: center;
            margin: 30px 0;
        }

        .avatar-preview {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 15px;
            display: block;
            border: 3px solid var(--winter-gold);
            transition: box-shadow 0.3s ease;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255,210,100,0.2);
        }

        .avatar-preview:hover {
            box-shadow: 0 0 30px rgba(255,210,100,0.5);
        }

        .upload-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--winter-gold));
        }

        .upload-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 0 15px rgba(255,210,100,0.3);
        }

        .save-btn {
            background-color: var(--success-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            width: 100%;
            transition: background-color 0.2s, transform 0.2s;
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            background: linear-gradient(90deg, var(--success-color), var(--winter-gold));
        }

        .save-btn:hover {
            background-color: #27ae60;
            transform: translateY(-2px);
            box-shadow: 0 0 15px rgba(255,210,100,0.3);
        }

        #avatarInput {
            display: none;
        }

        .error-message {
            color: #dc3545;
            text-align: center;
            padding: 10px;
            margin: 10px 0;
            background-color: rgba(220, 53, 69, 0.1);
            border-radius: 5px;
            display: none;
            animation: fadeIn 0.3s ease;
            border: 1px solid var(--winter-red);
        }

        .success-message {
            color: #155724;
            text-align: center;
            padding: 10px;
            margin: 10px 0;
            background-color: rgba(21, 87, 36, 0.1);
            border-radius: 5px;
            display: none;
            animation: fadeIn 0.3s ease;
            border: 1px solid var(--winter-gold);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 20px;
            background: linear-gradient(90deg, var(--primary-color), var(--winter-night));
            color: white;
            border-radius: 8px;
            box-shadow: 0 3px 20px rgba(255,210,100,0.2);
            transform: translateX(120%);
            transition: transform 0.3s ease;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            border-left: 4px solid var(--winter-gold);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: linear-gradient(90deg, var(--success-color), var(--winter-night));
            border-left: 4px solid var(--winter-sun);
        }

        .notification.error {
            background: linear-gradient(90deg, var(--danger-color), var(--winter-night));
            border-left: 4px solid var(--winter-red);
        }

        /* æ´»åŠ¨ã€å•†åŸã€ä»»åŠ¡ç›¸å…³æ ·å¼ */
        .event-item, .shop-item, .task-item {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            background-color: rgba(255,255,255,0.05);
            backdrop-filter: blur(5px);
        }
        
        .event-item:hover, .shop-item:hover, .task-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(255,210,100,0.1);
            border-color: var(--winter-gold);
        }
        
        .event-item {
            border-left: 4px solid var(--winter-red);
        }
        
        .shop-item {
            border-left: 4px solid var(--winter-gold);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .task-item {
            border-left: 4px solid var(--primary-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .event-date, .task-difficulty {
            font-size: 0.85rem;
            color: #ffb703;
            margin-bottom: 5px;
        }
        
        .shop-price {
            color: var(--winter-red);
            font-weight: bold;
            text-shadow: 0 0 5px rgba(231,76,60,0.1);
        }
        
        .redeem-btn, .complete-btn {
            background: linear-gradient(90deg, var(--primary-color), var(--winter-gold));
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
        }
        
        .redeem-btn:hover, .complete-btn:hover {
            background: linear-gradient(90deg, var(--primary-dark), var(--winter-sun));
            transform: translateY(-2px);
            box-shadow: 0 0 10px rgba(255,210,100,0.2);
        }
        
        .task-reward {
            color: var(--winter-gold);
            font-weight: 500;
            text-shadow: 0 0 5px rgba(255,183,3,0.1);
        }
        
        /* çŠ¶æ€æ ‡ç­¾æ ·å¼ */
        .status-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin-left: 10px;
        }
        
        .status-active {
            background-color: rgba(46, 204, 113, 0.1);
            color: var(--winter-gold);
            border: 1px solid var(--winter-gold);
        }
        
        .status-inactive {
            background-color: rgba(231, 76, 60, 0.1);
            color: var(--winter-red);
            border: 1px solid var(--winter-red);
        }
        
        /* åŠ è½½çŠ¶æ€æŒ‡ç¤ºå™¨ */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        .loading-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255,210,100,0.3);
            border-radius: 50%;
            border-top-color: var(--winter-gold);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* ç¡®è®¤å¯¹è¯æ¡† */
        .confirm-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1001;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        .confirm-modal.active {
            opacity: 1;
        }
        
        .confirm-content {
            background-color: var(--card-bg);
            padding: 25px;
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            border-top: 4px solid var(--winter-red);
            box-shadow: 0 5px 20px rgba(255,210,100,0.2);
        }
        
        .confirm-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .confirm-btn {
            flex: 1;
            padding: 8px 0;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            font-weight: 500;
        }
        
        .confirm-cancel {
            background: linear-gradient(90deg, #95a5a6, var(--winter-night));
            color: white;
        }
        
        .confirm-cancel:hover {
            background: linear-gradient(90deg, #7f8c8d, var(--winter-night));
            box-shadow: 0 0 10px rgba(255,210,100,0.1);
        }
        
        .confirm-ok {
            background: linear-gradient(90deg, var(--winter-red), var(--winter-gold));
            color: white;
        }
        
        .confirm-ok:hover {
            background: linear-gradient(90deg, #c0392b, var(--winter-sun));
            box-shadow: 0 0 10px rgba(255,210,100,0.2);
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 70px;
                padding: 15px 0;
            }
            
            .sidebar-title, .sidebar-link span {
                display: none;
            }
            
            .sidebar-link {
                justify-content: center;
                padding: 12px;
            }
            
            .user-profile {
                flex-direction: column;
                text-align: center;
                padding: 15px 5px;
            }
            
            .user-info {
                display: none;
            }
            
            .card-grid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 15px;
            }

            h1 {
                font-size: 1.5rem;
            }

            .content-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .search-bar {
                width: 100%;
            }
            
            .title-badge {
                display: none;
            }
            
            /* ä¼˜åŒ–å°å±å¹•æ¨¡æ€æ¡† */
            .modal-content {
                padding: 20px 15px;
                margin: 20px auto;
                max-height: calc(100vh - 40px);
                overflow-y: auto;
            }
            
            .series-select-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 480px) {
            .card-grid {
                grid-template-columns: 1fr 1fr;
            }

            .nav-card {
                padding: 15px 10px;
            }

            .card-icon {
                font-size: 30px;
                margin-bottom: 10px;
            }

            .card-title {
                font-size: 1rem;
            }
            
            .series-select-grid {
                grid-template-columns: 1fr;
            }
            
            .shop-item, .task-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .shop-item > div:last-child, .task-item > div:last-child {
                align-self: flex-end;
            }
            
            footer::before {
                content: 'â„ï¸ å†¬æ—¥ç‰ˆ â„ï¸';
            }
        }
        
        /* é¡µé¢è¿‡æ¸¡åŠ¨ç”» */
        .page-transition {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(120deg, var(--winter-night), var(--bg-color));
            z-index: 9999;
            transform: translateY(100%);
            transition: transform 0.5s ease;
        }
        
        .page-transition.active {
            transform: translateY(0);
        }

        /* ========== é›ªèŠ±åŠ¨æ•ˆåŠ¨ç”» ========== */
        @keyframes snowfall {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        @keyframes starfall {
            0% { transform: translateY(0) rotate(0deg) scale(0.5); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg) scale(1); opacity: 0; }
        }
    </style>
</head>
<body>
    <!-- é›ªèŠ±åŠ¨æ•ˆå®¹å™¨ -->
    <div class="snow-container" id="snowContainer"></div>

    <!-- é¡µé¢è¿‡æ¸¡åŠ¨ç”»å±‚ -->
    <div class="page-transition" id="pageTransition"></div>
    
    <!-- åŠ è½½çŠ¶æ€æŒ‡ç¤ºå™¨ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
    </div>
    
    <!-- ç¡®è®¤å¯¹è¯æ¡† -->
    <div class="confirm-modal" id="confirmModal">
        <div class="confirm-content">
            <h3 id="confirmTitle">ç¡®è®¤æ“ä½œï¼Ÿ</h3>
            <p id="confirmMessage"></p>
            <div class="confirm-buttons">
                <button class="confirm-btn confirm-cancel" onclick="closeConfirmModal()">å–æ¶ˆ</button>
                <button class="confirm-btn confirm-ok" onclick="executeConfirmedAction()">ç¡®è®¤</button>
            </div>
        </div>
    </div>

    <div class="app-container">
        <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
        <header>
            <h1>å¤šåŠŸèƒ½å¯¼èˆªä¸­å¿ƒ</h1>
            <p class="subtitle">æ¢ç´¢å„ç§å®ç”¨å·¥å…·å’Œæœ‰è¶£åŠŸèƒ½ï¼Œæå‡æ‚¨çš„åœ¨çº¿ä½“éªŒ | å†¬æ—¥é™å®šç‰ˆ</p>
        </header>

        <!-- ä¸»å†…å®¹åŒº -->
        <div class="main-content">
            <!-- ä¾§è¾¹æ å¯¼èˆª -->
            <div class="sidebar">
                <!-- ç”¨æˆ·ä¿¡æ¯ - ä¼˜åŒ–ç‰ˆæœ¬ -->
                <div class="user-profile">
                    <div class="user-avatar" id="userAvatar" onclick="document.getElementById('avatarInput').click()">
                        <img src="" alt="ç”¨æˆ·å¤´åƒ" class="avatar-img">
                        <span class="avatar-initial">U</span>
                    </div>
                    <input type="file" id="avatarInput" accept="image/*">
                    <div class="user-info">
                        <div class="username" id="userName">æ¸¸å®¢ç”¨æˆ·</div>
                        <div class="user-status"><i class="fas fa-circle"></i> <span id="loginStatus">æœªç™»å½•</span></div>
                    </div>
                    <a href="indexlo.html" class="login-link" id="loginLink">ç™»å½•/æ³¨å†Œ</a>
                    <button class="logout-btn" id="logoutBtn" onclick="confirmLogout()">
                        <i class="fas fa-sign-out-alt"></i> é€€å‡ºç™»å½•
                    </button>
                </div>

                <!-- å¯¼èˆªèœå• -->
                <div class="sidebar-section">
                    <h3 class="sidebar-title">ä¸»èœå•</h3>
                    <ul class="sidebar-menu">
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link active" data-category="all">
                                <i class="fas fa-home"></i>
                                <span>ä¸»é¡µ</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link" data-category="games">
                                <i class="fas fa-gamepad"></i>
                                <span>æ¸¸æˆå¨±ä¹</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link" data-category="learning">
                                <i class="fas fa-graduation-cap"></i>
                                <span>å­¦ä¹ ç³»åˆ—</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link" data-category="tools">
                                <i class="fas fa-tools"></i>
                                <span>å®ç”¨å·¥å…·</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link" data-category="user">
                                <i class="fas fa-user-circle"></i>
                                <span>ç”¨æˆ·ä¸­å¿ƒ</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link" data-category="system">
                                <i class="fas fa-cog"></i>
                                <span>ç³»ç»ŸåŠŸèƒ½</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- å¿«é€Ÿè®¿é—® -->
                <div class="sidebar-section">
                    <h3 class="sidebar-title">å¿«é€Ÿè®¿é—®</h3>
                    <ul class="sidebar-menu">
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link" onclick="openFriendsSeries(event)">
                                <i class="fas fa-users"></i>
                                <span>å¥½å‹åˆ—è¡¨</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link" onclick="openEventsModal()">
                                <i class="fas fa-calendar-alt"></i>
                                <span>æ´»åŠ¨ä¸­å¿ƒ</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link" onclick="openTasksModal()">
                                <i class="fas fa-tasks"></i>
                                <span>æ¯æ—¥ä»»åŠ¡</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a href="#" class="sidebar-link" onclick="navigateTo('versions.html')">
                                <i class="fas fa-newspaper"></i>
                                <span>æ›´æ–°å…¬å‘Š</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- ä¸»é¢˜åˆ‡æ¢ -->
                <div class="sidebar-section" style="margin-top: auto;">
                    <ul class="sidebar-menu">
                        <li class="sidebar-item">
                            <button class="sidebar-link theme-toggle" id="themeToggle" title="åˆ‡æ¢æ·±è‰²/æµ…è‰²æ¨¡å¼">
                                <i class="fas fa-moon"></i>
                                <span>åˆ‡æ¢ä¸»é¢˜</span>
                            </button>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- ä¸»å†…å®¹åŒºåŸŸ -->
            <div class="content-area">
                <!-- ä¸Šæ¬¡æ›´æ–°æ—¶é—´æç¤º -->
                <div id="updateNotice" class="update-notice">
                    <p>ä¸Šæ¬¡æ›´æ–°: <span id="lastUpdateTime">2026-01-02</span> | <a href="versions.html" style="color: var(--winter-gold);">æŸ¥çœ‹æ›´æ–°å†…å®¹</a> | <span class="close-update" onclick="closeUpdateNotice()">Ã—</span></p>
                </div>

                <div class="content-header">
                    <h2 class="content-title" id="currentCategoryTitle">æ‰€æœ‰åŠŸèƒ½</h2>
                    <div class="search-bar">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="æœç´¢åŠŸèƒ½...">
                    </div>
                </div>

                <div class="error-message" id="errorMsg"></div>
                <div class="success-message" id="successMsg"></div>

                <!-- æ‰€æœ‰åŠŸèƒ½å¡ç‰‡ -->
                <div class="card-grid">
                    <!-- æ¸¸æˆå¨±ä¹åˆ†ç±» -->
                    <div class="nav-card category-games" onclick="navigateTo('24gameinformation.html')">
                        <div class="card-icon">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <h2 class="card-title">å°æ¸¸æˆåˆé›†</h2>
                        <p class="card-desc">Interesting Games</p>
                    </div>
                    
                    <!-- è‡ªç”±ç”µå­ç³»åˆ—æ¨¡å—å…¥å£ -->
                    <div class="nav-card hot-game category-games" onclick="openFreeElectronSeries()">
                        <div class="hot-tag">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="card-icon">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <h2 class="card-title">è‡ªç”±ç”µå­å†’é™©</h2>
                        <p class="card-desc">è‡ªç”±ç”µå­å†’é™©ç³»åˆ—ï¼</p>
                    </div>
                    
                    <!-- æ´¾å¯¹æ¸¸æˆ -->
                    <div class="nav-card hot-game category-games" onclick="navigateTo('ç®€æ˜“è›‹ä»”.html')">
                        <div class="hot-tag">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="card-icon">
                            <i class="fas fa-users-gear"></i>
                        </div>
                        <h2 class="card-title">æ´¾å¯¹æ¸¸æˆ</h2>
                        <p class="card-desc">éšæœºæ¸¸æˆï¼ŒæŒ‘æˆ˜å…¨èƒ½</p>
                    </div>

                    <div class="nav-card category-games" onclick="navigateTo('PVZ.html')">
                        <div class="card-icon">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <h2 class="card-title">PVZ(å­¦ç”Ÿæ—¶ä»£)</h2>
                        <p class="card-desc">åˆæ­¥æµ‹è¯•ç‰ˆ!</p>
                    </div>

                    <!-- å­¦ä¹ ç³»åˆ—åˆ†ç±» -->
                    <div class="nav-card category-learning" onclick="openLearningSeries()">
                        <div class="card-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <h2 class="card-title">English words</h2>
                        <p class="card-desc">è‹±è¯­å•è¯å­¦ä¹ å·¥å…·</p>
                    </div>
                    
                    <div class="nav-card category-learning" onclick="navigateTo('Exam.html')">
                        <div class="card-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <h2 class="card-title">å­¦ä¸šæ°´å¹³è€ƒè¯•</h2>
                        <p class="card-desc">åŠçŒ«è¯•å·</p>
                    </div>
                    <div class="nav-card category-learning" onclick="navigateTo('æ ¹å·.html')">
                        <div class="card-icon">
                            <i class="fas fa-square-root-variable"></i>
                        </div>
                        <h2 class="card-title">æ•°å­¦æ ¹å·å™¨</h2>
                        <p class="card-desc">è¿…é€Ÿè®¡ç®—å¹³æ–¹æ ¹</p>
                    </div>
                    

                    <!-- å®ç”¨å·¥å…·åˆ†ç±» -->
                    <div class="nav-card category-tools" onclick="navigateTo('knowledge.html')">
                        <div class="card-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <h2 class="card-title">ç™¾å®ç®±</h2>
                        <p class="card-desc">åŠçŒ«å°çŸ¥è¯†ä¸·</p>
                    </div>

                    <div class="nav-card category-tools" onclick="navigateTo('diaochawenjuan.html')">
                        <div class="card-icon">
                            <i class="fas fa-poll"></i>
                        </div>
                        <h2 class="card-title">è°ƒæŸ¥é—®å·</h2>
                        <p class="card-desc">æäº¤å®æ—¶åé¦ˆï¼Œæœ‰æœºä¼šè·å–é™å®šç§°å·</p>
                    </div>
                    <div class="nav-card category-tools" onclick="navigateTo('confession-wall.html')">
                        <div class="card-icon">
                            <i class="fas fa-poll"></i>
                        </div>
                        <h2 class="card-title">å…ƒæ—¦Â·åŒ¿åå¿ƒæ„¿å¢™</h2>
                        <p class="card-desc">å…ƒæ—¦å¿«ä¹</p>
                    </div>
                    <div class="nav-card category-tools" onclick="navigateTo('confession-wall-wall.html')">
                        <div class="card-icon">
                            <i class="fas fa-poll"></i>
                        </div>
                        <h2 class="card-title">åŒ¿åè¡¨ç™½å¢™</h2>
                        <p class="card-desc">åŒ¿åè¡¨ç™½ï¼Œå‹‡æ•¢è¯´çˆ±(å…ƒæ—¦æœŸé—´æš‚æ—¶åœç”¨)</p>
                    </div>
                    <div class="nav-card category-tools" onclick="navigateTo('welcome2026.html')">
                        <div class="card-icon">
                            <i class="fas fa-poll"></i>
                        </div>
                        <h2 class="card-title">å–œè¿å…ƒæ—¦</h2>
                        <p class="card-desc">2026å€’è®¡æ—¶!</p>
                    </div>
                    <!-- ç”¨æˆ·ä¸­å¿ƒåˆ†ç±» -->
                    <div class="nav-card category-user" onclick="openFriendsSeries()">
                        <div class="card-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h2 class="card-title">å¥½å‹åˆ—è¡¨</h2>
                        <p class="card-desc">ç®¡ç†ä½ çš„å¥½å‹å’Œè”ç³»äººï¼Œä¸€èµ·äº’åŠ¨</p>
                    </div>

                    <div class="nav-card category-user" onclick="openEventsModal()">
                        <div class="card-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <h2 class="card-title">æ´»åŠ¨ä¸­å¿ƒ</h2>
                        <p class="card-desc">å‚ä¸é™æ—¶æ´»åŠ¨ï¼Œèµ¢å–ä¸°åšå¥–åŠ±</p>
                    </div>

                    <div class="nav-card category-user" onclick="openShopModal()">
                        <div class="card-icon">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <h2 class="card-title">ç§¯åˆ†å•†åŸ</h2>
                        <p class="card-desc">ä½¿ç”¨ç§¯åˆ†å…‘æ¢å„ç§ç²¾ç¾é“å…·</p>
                    </div>

                    <div class="nav-card category-user" onclick="openTasksModal()">
                        <div class="card-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <h2 class="card-title">æ¯æ—¥ä»»åŠ¡</h2>
                        <p class="card-desc">å®Œæˆä»»åŠ¡è·å–ç§¯åˆ†å’Œç‰¹æ®Šå¥–åŠ±</p>
                    </div>

                    <!-- ç³»ç»ŸåŠŸèƒ½åˆ†ç±» -->
                    <div class="nav-card category-system" onclick="navigateTo('help.html')">
                        <div class="card-icon">
                            <i class="fas fa-poll"></i>
                        </div>
                        <h2 class="card-title">å¸®åŠ©ä¸­å¿ƒ</h2>
                        <p class="card-desc">Help</p>
                    </div>

                    <div class="nav-card category-system" onclick="navigateTo('versions.html')">
                        <div class="card-icon">
                            <i class="fas fa-newspaper"></i>
                        </div>
                        <h2 class="card-title">æ›´æ–°å…¬å‘Š</h2>
                        <p class="card-desc">æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬æ›´æ–°å†…å®¹å’ŒåŠŸèƒ½é¢„å‘Š</p>
                    </div>
                    
                    <div class="nav-card category-system" onclick="showComingSoonNotice()">
                        <div class="card-icon">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <h2 class="card-title">æ›´å¤šåŠŸèƒ½</h2>
                        <p class="card-desc">æŒç»­æ›´æ–°ä¸­ï¼Œå³å°†ä¸Šçº¿æ›´å¤šå®ç”¨å·¥å…·</p>
                    </div>
                    
                    <div class="nav-card category-system" onclick="confirmAction('ç¡®å®šè¦è¿›å…¥ç®¡ç†å‘˜é¡µé¢å—ï¼Ÿ', 'gotoAdminLogin')">
                        <div class="card-icon">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <h2 class="card-title">æˆ‘æ˜¯ç®¡ç†å‘˜?</h2>
                        <p class="card-desc">ç®¡ç†å‘˜ç‰¹æ®ŠåŠŸèƒ½ç™»å½•é¡µé¢...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨çŠ¶æ€æ  -->
        <footer>
            <p>Â© 2025 å¤šåŠŸèƒ½å¯¼èˆªä¸­å¿ƒ | ç‰ˆæœ¬ v6.5.0(å…ƒæ—¦ç‰¹åˆ«ç‰ˆ)</p>
        </footer>
    </div>

    <!-- è‡ªç”±ç”µå­ç³»åˆ—é€‰æ‹©æ¨¡æ€æ¡† -->
    <div class="modal" id="freeElectronModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeFreeElectronModal()">&times;</span>
            <h2 class="profile-title">è‡ªç”±ç”µå­ç³»åˆ— - é€‰æ‹©æ¸¸æˆ</h2>
            <div class="series-select-grid">
                <div class="series-select-item" onclick="navigateTo('e(finally).html')">
                    <div class="card-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 class="card-title">è‡ªç”±ç”µå­å†’é™©</h3>
                    <p class="card-desc">è‡ªç”±ç”µå­å†’é™©ä¹‹æ—…ï¼</p>
                </div>
                
                <div class="series-select-item" onclick="navigateTo('freee2.html')">
                    <div class="card-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 class="card-title">è‡ªç”±ç”µå­å†’é™©2</h3>
                    <p class="card-desc">è‡ªç”±ç”µå­å†’é™©ä¹‹æ—…ï¼</p>
                </div>
                
                <div class="series-select-item" onclick="navigateTo('freee3.html')">
                    <div class="card-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 class="card-title">è‡ªç”±ç”µå­å†’é™©3</h3>
                    <p class="card-desc">è‡ªç”±ç”µå­å†’é™©ä¹‹æ—…ï¼</p>
                </div>
                
                <div class="series-select-item" onclick="navigateTo('freee4.html')">
                    <div class="card-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 class="card-title">è‡ªç”±ç”µå­å†’é™©4</h3>
                    <p class="card-desc">è‡ªç”±ç”µå­å†’é™©ä¹‹æ—…ï¼</p>
                </div>
            </div>
            <div class="series-select-item" onclick="navigateTo('freee5.html')">
                    <div class="card-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 class="card-title">è‡ªç”±ç”µå­å†’é™©5</h3>
                    <p class="card-desc">è‡ªç”±ç”µå­å†’é™©ä¹‹æ—…ï¼</p>
                
            </div>
            <div class="series-select-item" onclick="showDisabledNotice('è‡ªç”±ç”µå­å†’é™©6')">
                    <div class="card-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 class="card-title">è‡ªç”±ç”µå­å†’é™©6</h3>
                    <p class="card-desc">å³å°†ä¸Šçº¿ï¼Œæ•¬è¯·æœŸå¾…ï¼</p>
                
            </div>
            <div class="series-select-item" onclick="navigateTo('FreeE-.html')">
                    <div class="card-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 class="card-title">å…±ç ”æœ(è‡ªç”±ç”µå­å†’é™©6)</h3>
                    <p class="card-desc">è¯·å‹¿ç‚¹å…¥ åŠçŒ«è¯ºä¸·æµ‹è¯•ä¸­...</p>
            </div>
            <div class="series-select-item" onclick="navigateTo('ElectronAdventure.html')">
                    <div class="card-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 class="card-title">å…±ç ”æœ(æ•°æ®ä¿å­˜è°ƒè¯•)</h3>
                    <p class="card-desc">è¯·å‹¿ç‚¹å…¥ åŠçŒ«è¯ºä¸·æµ‹è¯•ä¸­...</p>
            </div>
        </div>
    </div>

    <!-- å­¦ä¹ ç³»åˆ—é€‰æ‹©æ¨¡æ€æ¡† -->
    <div class="modal" id="learningModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeLearningModal()">&times;</span>
            <h2 class="profile-title">å­¦ä¹ ç³»åˆ— - é€‰æ‹©å·¥å…·</h2>
            <div class="series-select-grid">
                <div class="series-select-item" onclick="navigateTo('words.html')">
                    <div class="card-icon">
                        <i class="fas fa-spell-check"></i>
                    </div>
                    <h3 class="card-title">English words</h3>
                    <p class="card-desc">æ£€éªŒå’Œæå‡ä½ çš„è‹±æ–‡å•è¯å‚¨å¤‡é‡</p>
                </div>
                
                <div class="series-select-item" onclick="navigateTo('words2.html')">
                    <div class="card-icon">
                        <i class="fas fa-spell-check"></i>
                    </div>
                    <h3 class="card-title">English words 2</h3>
                    <p class="card-desc">è¿›é˜¶ç‰ˆå•è¯å­¦ä¹ ä¸æµ‹è¯•</p>
                </div>
            </div>
            <div class="series-select-item" onclick="navigateTo('words3.html')">
                    <div class="card-icon">
                        <i class="fas fa-spell-check"></i>
                    </div>
                    <h3 class="card-title">English[Go Over]</h3>
                    <p class="card-desc">æœˆè€ƒé™æ—¶å¤ä¹ æ¨¡å¼</p>
            </div>
        </div>
    </div>

    <!-- å¥½å‹ç™»å½•æ–¹å¼é€‰æ‹©æ¨¡æ€æ¡† -->
    <div class="modal" id="friendsModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeFriendsModal()">&times;</span>
            <h2 class="profile-title">é€‰æ‹©ç™»å½•æ–¹å¼</h2>
            <div class="series-select-grid">
                <div class="series-select-item" onclick="navigateTo('friends(Password).html')">
                    <div class="card-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h3 class="card-title">æ­£ç‰ˆç™»å½•(æµ‹è¯•é˜¶æ®µ)</h3>
                    <p class="card-desc">ä½¿ç”¨é‚®ç®±ç™»å½•ï¼Œå®‰å…¨å¯é </p>
                </div>
                <div class="series-select-item" onclick="navigateTo('friends.html')">
                    <div class="card-icon">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <h3 class="card-title">ç¦»çº¿ç™»å½•</h3>
                    <p class="card-desc">åˆ›å»ºç”¨æˆ·åï¼Œç›´æ¥èŠå¤©
(è¯·è§„èŒƒæ‚¨çš„è¡Œä¸º è‹¥æ‚¨å¤šæ¬¡æœªç»å…è®¸ç™»å…¥ä»–äººè´¦å·ä¸­ æ¥åˆ°åé¦ˆååŠçŒ«è¯ºä¸·ä¼šç¬¬ä¸€æ—¶é—´å°ç¦æ‚¨çš„IP)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- æ´»åŠ¨ä¸­å¿ƒæ¨¡æ€æ¡† -->
    <div class="modal" id="eventsModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeEventsModal()">&times;</span>
            <h2 class="profile-title">æ´»åŠ¨ä¸­å¿ƒ</h2>
            
            <div class="event-item">
                <div class="event-date"><i class="far fa-calendar"></i> é•¿æœŸæœ‰æ•ˆ</div>
                <h3>æ–°æ‰‹æˆé•¿è®¡åˆ’</h3>
                <p>æ–°ç”¨æˆ·å®ŒæˆæŒ‡å®šä»»åŠ¡ï¼Œå³å¯è·å¾—æ–°æ‰‹å¤§ç¤¼åŒ…å’Œä¸“å±ç§°å·</p>
            </div>
            
            <div class="event-item">
                <div class="event-date"><i class="far fa-calendar"></i> æ¯å‘¨æ›´æ–°</div>
                <h3>å‘¨æœ«ç‹‚æ¬¢</h3>
                <p>å‘¨æœ«æœŸé—´æ‰€æœ‰æ¸¸æˆç§¯åˆ†ç¿»å€ï¼Œä»»åŠ¡å¥–åŠ±æå‡50%</p>
            </div>
        </div>
    </div>

    <!-- ç§¯åˆ†å•†åŸæ¨¡æ€æ¡† -->
    <div class="modal" id="shopModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeShopModal()">&times;</span>
            <h2 class="profile-title">ç§¯åˆ†å•†åŸ</h2>
            
            <div class="shop-item">
                <div>
                    <h3>é™å®šå¤´åƒæ¡† <span class="status-badge status-active">å¯å…‘æ¢</span></h3>
                    <p>ç²¾ç¾é™å®šå¤´åƒæ¡†ï¼Œå½°æ˜¾ä½ çš„ç‹¬ç‰¹èº«ä»½</p>
                </div>
                <div>
                    <span class="shop-price">500ç§¯åˆ†</span>
                    <button class="redeem-btn" onclick="showNotification('å…‘æ¢æˆåŠŸï¼', 'success')">å…‘æ¢</button>
                </div>
            </div>
            
            <div class="shop-item">
                <div>
                    <h3>æ¸¸æˆé“å…·åŒ… <span class="status-badge status-active">å¯å…‘æ¢</span></h3>
                    <p>åŒ…å«å¤šç§æ¸¸æˆå†…å®ç”¨é“å…·ï¼ŒåŠ©ä½ è½»æ¾é€šå…³</p>
                </div>
                <div>
                    <span class="shop-price">300ç§¯åˆ†</span>
                    <button class="redeem-btn" onclick="showNotification('å…‘æ¢æˆåŠŸï¼', 'success')">å…‘æ¢</button>
                </div>
            </div>
            
            <div class="shop-item">
                <div>
                    <h3>é«˜çº§ä¼šå‘˜ä½“éªŒ7å¤© <span class="status-badge status-inactive">ç§¯åˆ†ä¸è¶³</span></h3>
                    <p>ä½“éªŒé«˜çº§ä¼šå‘˜ä¸“å±åŠŸèƒ½å’Œç‰¹æƒ</p>
                </div>
                <div>
                    <span class="shop-price">1000ç§¯åˆ†</span>
                    <button class="redeem-btn" disabled onclick="showNotification('ç§¯åˆ†ä¸è¶³ï¼Œæ— æ³•å…‘æ¢', 'error')">å…‘æ¢</button>
                </div>
            </div>
        </div>
    </div>

    <!-- æ¯æ—¥ä»»åŠ¡æ¨¡æ€æ¡† -->
    <div class="modal" id="tasksModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeTasksModal()">&times;</span>
            <h2 class="profile-title">æ¯æ—¥ä»»åŠ¡</h2>
            
            <div class="task-item">
                <div>
                    <div class="task-difficulty"><i class="fas fa-star"></i> ç®€å•</div>
                    <h3>ç™»å½•ç³»ç»Ÿ</h3>
                    <p>æ¯æ—¥ç™»å½•ä¸€æ¬¡å³å¯å®Œæˆ</p>
                    <p class="task-reward"><i class="fas fa-coins"></i> å¥–åŠ±: 50ç§¯åˆ†</p>
                </div>
                <div>
                    <button class="complete-btn" onclick="showNotification('ä»»åŠ¡å·²å®Œæˆï¼Œå¥–åŠ±å·²å‘æ”¾', 'success')">å®Œæˆ</button>
                </div>
            </div>
            
            <div class="task-item">
                <div>
                    <div class="task-difficulty"><i class="fas fa-star"></i><i class="fas fa-star"></i> ä¸­ç­‰</div>
                    <h3>ä½“éªŒä¸€æ¬¾æ¸¸æˆ</h3>
                    <p>ä»»æ„æ¸¸æˆä½“éªŒæ—¶é—´è¶…è¿‡5åˆ†é’Ÿ</p>
                    <p class="task-reward"><i class="fas fa-coins"></i> å¥–åŠ±: 100ç§¯åˆ†</p>
                </div>
                <div>
                    <button class="complete-btn" onclick="showNotification('ä»»åŠ¡å·²å®Œæˆï¼Œå¥–åŠ±å·²å‘æ”¾', 'success')">å®Œæˆ</button>
                </div>
            </div>
            
            <div class="task-item">
                <div>
                    <div class="task-difficulty"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i> å›°éš¾</div>
                    <h3>é‚€è¯·å¥½å‹</h3>
                    <p>æˆåŠŸé‚€è¯·ä¸€ä½æ–°ç”¨æˆ·æ³¨å†Œ</p>
                    <p class="task-reward"><i class="fas fa-coins"></i> å¥–åŠ±: 500ç§¯åˆ† + é™å®šç§°å·</p>
                </div>
                <div>
                    <button class="complete-btn" disabled>æœªå®Œæˆ</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // é›ªèŠ±åŠ¨æ•ˆæ ¸å¿ƒå‡½æ•° - å†¬æ—¥æ°›å›´å¼ºåŒ–ç‰ˆ
        function createSnow() {
            const snowContainer = document.getElementById('snowContainer');
            const isMobile = window.innerWidth < 768;
            const snowCount = isMobile ? 25 : 50; // ç§»åŠ¨ç«¯25ä¸ªï¼ŒPCç«¯50ä¸ªï¼Œæ›´å¯†é›†
            
            // æ¸…ç©ºåŸæœ‰é›ªèŠ±
            snowContainer.innerHTML = '';
            
            // ç”Ÿæˆé›ªèŠ±/æ˜Ÿæ˜Ÿæ··åˆåŠ¨æ•ˆ
            for (let i = 0; i < snowCount; i++) {
                const snowFlake = document.createElement('div');
                const isStar = Math.random() > 0.7; // 30%æ¦‚ç‡æ˜¯æ˜Ÿæ˜Ÿï¼ˆæš–å…‰ç‚¹ç¼€ï¼‰
                
                // éšæœºæ ·å¼
                const size = Math.random() * 10 + 5; // é›ªèŠ±å¤§å°5-15px
                const posX = Math.random() * 100; // æ°´å¹³ä½ç½®
                const animationDuration = Math.random() * 20 + 10; // ä¸‹è½æ—¶é•¿10-30ç§’
                const delay = Math.random() * 20; // å»¶è¿Ÿ0-20ç§’
                const opacity = Math.random() * 0.8 + 0.2; // é€æ˜åº¦0.2-1
                const blur = Math.random() * 2; // æ¨¡ç³Šæ•ˆæœ
                
                // è®¾ç½®é›ªèŠ±æ ·å¼
                snowFlake.style.position = 'absolute';
                snowFlake.style.left = `${posX}%`;
                snowFlake.style.top = '-20px';
                snowFlake.style.width = `${size}px`;
                snowFlake.style.height = `${size}px`;
                snowFlake.style.borderRadius = isStar ? '0' : '50%';
                snowFlake.style.backgroundColor = isStar ? '#ffd166' : '#ffffff'; // æ˜Ÿæ˜Ÿæ˜¯æš–é˜³é»„ï¼Œé›ªèŠ±æ˜¯ç™½è‰²
                snowFlake.style.opacity = opacity;
                snowFlake.style.filter = `blur(${blur}px)`;
                snowFlake.style.zIndex = '1';
                snowFlake.style.pointerEvents = 'none';
                
                // åŠ¨ç”»è®¾ç½®
                snowFlake.style.animation = `${isStar ? 'starfall' : 'snowfall'} ${animationDuration}s linear ${delay}s infinite`;
                
                // æ˜Ÿæ˜Ÿé¢å¤–æ ·å¼
                if (isStar) {
                    snowFlake.style.content = 'â˜…';
                    snowFlake.style.color = '#ffd166';
                    snowFlake.style.fontSize = `${size}px`;
                    snowFlake.style.backgroundColor = 'transparent';
                }
                
                snowContainer.appendChild(snowFlake);
            }
        }

        // ç”¨æˆ·ä¿¡æ¯ç®¡ç†æ¨¡å— - ä¼˜åŒ–ç‰ˆæœ¬
        function initUserInfo() {
            // å°è¯•ä»localStorageè·å–ç”¨æˆ·ä¿¡æ¯
            const userInfoStr = localStorage.getItem('mainUserInfo');
            const userInfo = userInfoStr ? JSON.parse(userInfoStr) : null;
            const userNameEl = document.getElementById('userName');
            const userStatusEl = document.getElementById('loginStatus');
            const userAvatarEl = document.getElementById('userAvatar');
            const loginLink = document.getElementById('loginLink');
            const logoutBtn = document.getElementById('logoutBtn');
            const avatarImg = document.querySelector('.avatar-img');
            const avatarInitial = document.querySelector('.avatar-initial');
            
            if (userInfo && userInfo.username) {
                // ç™»å½•çŠ¶æ€ï¼šæ˜¾ç¤ºç”¨æˆ·åå’Œä¸ªæ€§åŒ–å¤´åƒ
                const username = decodeURIComponent(userInfo.username);
                userNameEl.textContent = username;
                userStatusEl.textContent = 'å·²ç™»å½•';
                userAvatarEl.classList.add('logged');
                
                // åˆ‡æ¢æ˜¾ç¤ºç™»å½•/é€€å‡ºæŒ‰é’®
                loginLink.style.display = 'none';
                logoutBtn.style.display = 'flex';
                
                // åŠ è½½ç”¨æˆ·å¤´åƒ
                if (userInfo.avatar) {
                    avatarImg.src = userInfo.avatar;
                    avatarImg.style.display = 'block';
                    avatarInitial.style.display = 'none';
                } else {
                    // æ²¡æœ‰è‡ªå®šä¹‰å¤´åƒæ—¶æ˜¾ç¤ºç”¨æˆ·åé¦–å­—æ¯
                    avatarImg.style.display = 'none';
                    avatarInitial.style.display = 'block';
                    avatarInitial.textContent = username.charAt(0).toUpperCase();
                }
            } else {
                // æœªç™»å½•çŠ¶æ€ï¼šé»˜è®¤æç¤º
                userNameEl.textContent = 'æ¸¸å®¢ç”¨æˆ·';
                userStatusEl.textContent = 'æœªç™»å½•';
                userAvatarEl.classList.remove('logged');
                
                // åˆ‡æ¢æŒ‰é’®æ˜¾ç¤º
                loginLink.style.display = 'block';
                logoutBtn.style.display = 'none';
                
                // é‡ç½®å¤´åƒ
                avatarImg.src = '';
                avatarImg.style.display = 'none';
                avatarInitial.style.display = 'block';
                avatarInitial.textContent = 'U';
            }
        }

        // å¤´åƒä¸Šä¼ å¤„ç†
        document.getElementById('avatarInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            // æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç™»å½•
            const userInfoStr = localStorage.getItem('mainUserInfo');
            const userInfo = userInfoStr ? JSON.parse(userInfoStr) : null;
            
            if (!userInfo || !userInfo.username) {
                showNotification('è¯·å…ˆç™»å½•å†ä¸Šä¼ å¤´åƒ', 'error');
                return;
            }
            
            // æ£€æŸ¥æ–‡ä»¶ç±»å‹
            if (!file.type.startsWith('image/')) {
                showNotification('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶', 'error');
                return;
            }
            
            // é¢„è§ˆå¹¶ä¿å­˜å¤´åƒ
            const reader = new FileReader();
            reader.onload = function(event) {
                // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
                userInfo.avatar = event.target.result;
                localStorage.setItem('mainUserInfo', JSON.stringify(userInfo));
                
                // æ›´æ–°å¤´åƒæ˜¾ç¤º
                const avatarImg = document.querySelector('.avatar-img');
                const avatarInitial = document.querySelector('.avatar-initial');
                avatarImg.src = event.target.result;
                avatarImg.style.display = 'block';
                avatarInitial.style.display = 'none';
                
                showNotification('å¤´åƒæ›´æ–°æˆåŠŸ', 'success');
            };
            reader.readAsDataURL(file);
        });

        // ç¡®è®¤é€€å‡ºç™»å½•
        function confirmLogout() {
            confirmAction(
                'ç¡®è®¤é€€å‡º',
                'logout',
                'ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿæ‚¨çš„éƒ¨åˆ†æ•°æ®å¯èƒ½ä¼šä¸¢å¤±ã€‚'
            );
        }

        // æ‰§è¡Œé€€å‡ºç™»å½•
        function performLogout() {
            // æ¸…é™¤ç”¨æˆ·ä¿¡æ¯
            localStorage.removeItem('mainUserInfo');
            
            // æ›´æ–°UI
            initUserInfo();
            
            showNotification('å·²æˆåŠŸé€€å‡ºç™»å½•', 'success');
        }

        // æ·±è‰²æ¨¡å¼åˆ‡æ¢
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        
        // æ£€æŸ¥æœ¬åœ°å­˜å‚¨çš„ä¸»é¢˜åå¥½
        if (localStorage.getItem('darkMode') === 'true' || 
            (!localStorage.getItem('darkMode') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            body.classList.add('dark-mode');
            themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        }
        
        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            const isDark = body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDark);
            themeToggle.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
        });

        // ä¾§è¾¹æ å¯¼èˆªåˆ‡æ¢
        const sidebarLinks = document.querySelectorAll('.sidebar-link[data-category]');
        const categoryTitles = {
            'all': 'æ‰€æœ‰åŠŸèƒ½',
            'games': 'æ¸¸æˆå¨±ä¹',
            'learning': 'å­¦ä¹ ç³»åˆ—',
            'tools': 'å®ç”¨å·¥å…·',
            'user': 'ç”¨æˆ·ä¸­å¿ƒ',
            'system': 'ç³»ç»ŸåŠŸèƒ½',
            'friends': 'å¥½å‹åˆ—è¡¨'
        };
        const currentCategoryTitle = document.getElementById('currentCategoryTitle');
        const navCards = document.querySelectorAll('.nav-card');

        sidebarLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                // å¦‚æœæ˜¯å¥½å‹åˆ—è¡¨é“¾æ¥ï¼Œä¸æ‰§è¡Œé»˜è®¤çš„åˆ†ç±»åˆ‡æ¢é€»è¾‘
                if (link.getAttribute('data-category') !== 'friends') {
                    e.preventDefault();
                    
                    // æ›´æ–°æ´»è·ƒçŠ¶æ€
                    sidebarLinks.forEach(l => l.classList.remove('active'));
                    link.classList.add('active');
                    
                    // æ›´æ–°æ ‡é¢˜
                    const category = link.getAttribute('data-category');
                    currentCategoryTitle.textContent = categoryTitles[category] || 'æ‰€æœ‰åŠŸèƒ½';
                    
                    // è¿‡æ»¤å¡ç‰‡æ˜¾ç¤º
                    navCards.forEach(card => {
                        if (category === 'all' || card.classList.contains(`category-${category}`)) {
                            card.style.display = 'block';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                }
            });
        });

        // æœç´¢åŠŸèƒ½
        const searchInput = document.querySelector('.search-input');
        searchInput.addEventListener('input', () => {
            const searchTerm = searchInput.value.toLowerCase().trim();
            
            navCards.forEach(card => {
                const title = card.querySelector('.card-title').textContent.toLowerCase();
                const desc = card.querySelector('.card-desc').textContent.toLowerCase();
                
                if (title.includes(searchTerm) || desc.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // é¡µé¢å¯¼èˆª
        function navigateTo(url) {
            showLoading();
            setTimeout(() => {
                window.location.href = url;
            }, 500);
        }

        // æ¨¡æ€æ¡†æ§åˆ¶
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.style.display = 'flex';
            setTimeout(() => {
                modal.classList.add('active');
            }, 10);
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('active');
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }

        // è‡ªç”±ç”µå­ç³»åˆ—æ¨¡æ€æ¡†
        function openFreeElectronSeries() {
            openModal('freeElectronModal');
        }

        function closeFreeElectronModal() {
            closeModal('freeElectronModal');
        }

        // å­¦ä¹ ç³»åˆ—æ¨¡æ€æ¡†
        function openLearningSeries() {
            openModal('learningModal');
        }

        function closeLearningModal() {
            closeModal('learningModal');
        }

        // å¥½å‹ç™»å½•æ–¹å¼é€‰æ‹©æ¨¡æ€æ¡†æ§åˆ¶
        function openFriendsSeries(event) {
            if (event) event.preventDefault();
            openModal('friendsModal');
        }

        function closeFriendsModal() {
            closeModal('friendsModal');
        }

        // æ´»åŠ¨ä¸­å¿ƒæ¨¡æ€æ¡†
        function openEventsModal() {
            openModal('eventsModal');
        }

        function closeEventsModal() {
            closeModal('eventsModal');
        }

        // ç§¯åˆ†å•†åŸæ¨¡æ€æ¡†
        function openShopModal() {
            openModal('shopModal');
        }

        function closeShopModal() {
            closeModal('shopModal');
        }

        // æ¯æ—¥ä»»åŠ¡æ¨¡æ€æ¡†
        function openTasksModal() {
            openModal('tasksModal');
        }

        function closeTasksModal() {
            closeModal('tasksModal');
        }

        // å…³é—­æ›´æ–°æç¤º
        function closeUpdateNotice() {
            const updateNotice = document.getElementById('updateNotice');
            updateNotice.style.opacity = '0';
            updateNotice.style.transform = 'translateY(-20px)';
            setTimeout(() => {
                updateNotice.style.display = 'none';
            }, 500);
            localStorage.setItem('hideUpdateNotice', 'true');
        }

        // æ£€æŸ¥æ˜¯å¦éœ€è¦æ˜¾ç¤ºæ›´æ–°æç¤º
        if (localStorage.getItem('hideUpdateNotice') === 'true') {
            document.getElementById('updateNotice').style.display = 'none';
        }

        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            let icon = 'info-circle';
            if (type === 'success') icon = 'check-circle';
            if (type === 'error') icon = 'exclamation-circle';
            
            notification.innerHTML = `<i class="fas fa-${icon}"></i> ${message}`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // æ˜¾ç¤ºå³å°†ä¸Šçº¿æç¤º
        function showComingSoonNotice() {
            showNotification('è¯¥åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œå³å°†ä¸Šçº¿ï¼Œæ•¬è¯·æœŸå¾…ï¼', 'info');
        }

        // æ˜¾ç¤ºå·²ç¦ç”¨æç¤º
        function showDisabledNotice(featureName) {
            showNotification(`${featureName} ç›®å‰å°šæœªå¼€æ”¾ï¼Œæ•¬è¯·æœŸå¾…ï¼`, 'info');
        }

        // åŠ è½½çŠ¶æ€
        function showLoading() {
            document.getElementById('loadingOverlay').classList.add('active');
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').classList.remove('active');
        }

        // ç¡®è®¤å¯¹è¯æ¡†
        let confirmedAction = null;
        
        function confirmAction(title, action, message = '') {
            document.getElementById('confirmTitle').textContent = title;
            document.getElementById('confirmMessage').textContent = message;
            confirmedAction = action;
            const confirmModal = document.getElementById('confirmModal');
            confirmModal.style.display = 'flex';
            setTimeout(() => {
                confirmModal.classList.add('active');
            }, 10);
        }
        
        function closeConfirmModal() {
            const confirmModal = document.getElementById('confirmModal');
            confirmModal.classList.remove('active');
            setTimeout(() => {
                confirmModal.style.display = 'none';
                confirmedAction = null;
            }, 300);
        }
        
        function executeConfirmedAction() {
            if (confirmedAction === 'gotoAdminLogin') {
                navigateTo('adminlogin.html');
            } else if (confirmedAction === 'logout') {
                performLogout();
            }
            closeConfirmModal();
        }

        // ç®¡ç†å‘˜ç™»å½•é¡µé¢è·³è½¬
        function gotoAdminLogin() {
            navigateTo('adminlogin.html');
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        window.addEventListener('load', () => {
            // åˆå§‹åŒ–é›ªèŠ±åŠ¨æ•ˆï¼ˆå¼ºåŒ–ç‰ˆï¼‰
            createSnow();
            // åˆå§‹åŒ–ç”¨æˆ·ä¿¡æ¯
            initUserInfo();
            
            // éšè—åŠ è½½çŠ¶æ€
            hideLoading();
            
            // åˆå§‹åŒ–å¡ç‰‡åŠ¨ç”»
            const cards = document.querySelectorAll('.nav-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, 100 + index * 100);
            });
        });
    </script>
</body>
</html>